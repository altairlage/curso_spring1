<!DOCTYPE html>
<!-- saved from url=(0081)https://cursos.alura.com.br/course/spring-mvc-1-criando-aplicacoes-web/task/11455 -->
<html lang="pt-BR" data-product="alura" class="gr__cursos_alura_com_br"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	
	<meta name="viewport" content="width=device-width, initial-scale=1">
	
	
	<title>Spring MVC I: Aula 9 - Atividade 3 Enviando arquivos ao servidor | Alura - Cursos online de tecnologia</title>
	
	
<script type="text/javascript" src="./Spring MVC I_ Aula 9 - Atividade 3 Enviando arquivos ao servidor _ Alura - Cursos online de tecnologia_files/b5f9030682"></script><script src="./Spring MVC I_ Aula 9 - Atividade 3 Enviando arquivos ao servidor _ Alura - Cursos online de tecnologia_files/nr-1044.min.js.download"></script><script type="text/javascript" async="" src="./Spring MVC I_ Aula 9 - Atividade 3 Enviando arquivos ao servidor _ Alura - Cursos online de tecnologia_files/amplitude-3.0.2-min.gz.js.download"></script><script type="text/javascript">window.NREUM||(NREUM={}),__nr_require=function(e,n,t){function r(t){if(!n[t]){var o=n[t]={exports:{}};e[t][0].call(o.exports,function(n){var o=e[t][1][n];return r(o||n)},o,o.exports)}return n[t].exports}if("function"==typeof __nr_require)return __nr_require;for(var o=0;o<t.length;o++)r(t[o]);return r}({1:[function(e,n,t){function r(){}function o(e,n,t){return function(){return i(e,[c.now()].concat(u(arguments)),n?null:this,t),n?void 0:this}}var i=e("handle"),a=e(2),u=e(3),f=e("ee").get("tracer"),c=e("loader"),s=NREUM;"undefined"==typeof window.newrelic&&(newrelic=s);var p=["setPageViewName","setCustomAttribute","setErrorHandler","finished","addToTrace","inlineHit","addRelease"],d="api-",l=d+"ixn-";a(p,function(e,n){s[n]=o(d+n,!0,"api")}),s.addPageAction=o(d+"addPageAction",!0),s.setCurrentRouteName=o(d+"routeName",!0),n.exports=newrelic,s.interaction=function(){return(new r).get()};var m=r.prototype={createTracer:function(e,n){var t={},r=this,o="function"==typeof n;return i(l+"tracer",[c.now(),e,t],r),function(){if(f.emit((o?"":"no-")+"fn-start",[c.now(),r,o],t),o)try{return n.apply(this,arguments)}finally{f.emit("fn-end",[c.now()],t)}}}};a("setName,setAttribute,save,ignore,onEnd,getContext,end,get".split(","),function(e,n){m[n]=o(l+n)}),newrelic.noticeError=function(e){"string"==typeof e&&(e=new Error(e)),i("err",[e,c.now()])}},{}],2:[function(e,n,t){function r(e,n){var t=[],r="",i=0;for(r in e)o.call(e,r)&&(t[i]=n(r,e[r]),i+=1);return t}var o=Object.prototype.hasOwnProperty;n.exports=r},{}],3:[function(e,n,t){function r(e,n,t){n||(n=0),"undefined"==typeof t&&(t=e?e.length:0);for(var r=-1,o=t-n||0,i=Array(o<0?0:o);++r<o;)i[r]=e[n+r];return i}n.exports=r},{}],4:[function(e,n,t){n.exports={exists:"undefined"!=typeof window.performance&&window.performance.timing&&"undefined"!=typeof window.performance.timing.navigationStart}},{}],ee:[function(e,n,t){function r(){}function o(e){function n(e){return e&&e instanceof r?e:e?f(e,u,i):i()}function t(t,r,o,i){if(!d.aborted||i){e&&e(t,r,o);for(var a=n(o),u=m(t),f=u.length,c=0;c<f;c++)u[c].apply(a,r);var p=s[y[t]];return p&&p.push([b,t,r,a]),a}}function l(e,n){v[e]=m(e).concat(n)}function m(e){return v[e]||[]}function w(e){return p[e]=p[e]||o(t)}function g(e,n){c(e,function(e,t){n=n||"feature",y[t]=n,n in s||(s[n]=[])})}var v={},y={},b={on:l,emit:t,get:w,listeners:m,context:n,buffer:g,abort:a,aborted:!1};return b}function i(){return new r}function a(){(s.api||s.feature)&&(d.aborted=!0,s=d.backlog={})}var u="nr@context",f=e("gos"),c=e(2),s={},p={},d=n.exports=o();d.backlog=s},{}],gos:[function(e,n,t){function r(e,n,t){if(o.call(e,n))return e[n];var r=t();if(Object.defineProperty&&Object.keys)try{return Object.defineProperty(e,n,{value:r,writable:!0,enumerable:!1}),r}catch(i){}return e[n]=r,r}var o=Object.prototype.hasOwnProperty;n.exports=r},{}],handle:[function(e,n,t){function r(e,n,t,r){o.buffer([e],r),o.emit(e,n,t)}var o=e("ee").get("handle");n.exports=r,r.ee=o},{}],id:[function(e,n,t){function r(e){var n=typeof e;return!e||"object"!==n&&"function"!==n?-1:e===window?0:a(e,i,function(){return o++})}var o=1,i="nr@id",a=e("gos");n.exports=r},{}],loader:[function(e,n,t){function r(){if(!x++){var e=h.info=NREUM.info,n=d.getElementsByTagName("script")[0];if(setTimeout(s.abort,3e4),!(e&&e.licenseKey&&e.applicationID&&n))return s.abort();c(y,function(n,t){e[n]||(e[n]=t)}),f("mark",["onload",a()+h.offset],null,"api");var t=d.createElement("script");t.src="https://"+e.agent,n.parentNode.insertBefore(t,n)}}function o(){"complete"===d.readyState&&i()}function i(){f("mark",["domContent",a()+h.offset],null,"api")}function a(){return E.exists&&performance.now?Math.round(performance.now()):(u=Math.max((new Date).getTime(),u))-h.offset}var u=(new Date).getTime(),f=e("handle"),c=e(2),s=e("ee"),p=window,d=p.document,l="addEventListener",m="attachEvent",w=p.XMLHttpRequest,g=w&&w.prototype;NREUM.o={ST:setTimeout,SI:p.setImmediate,CT:clearTimeout,XHR:w,REQ:p.Request,EV:p.Event,PR:p.Promise,MO:p.MutationObserver};var v=""+location,y={beacon:"bam.nr-data.net",errorBeacon:"bam.nr-data.net",agent:"js-agent.newrelic.com/nr-1044.min.js"},b=w&&g&&g[l]&&!/CriOS/.test(navigator.userAgent),h=n.exports={offset:u,now:a,origin:v,features:{},xhrWrappable:b};e(1),d[l]?(d[l]("DOMContentLoaded",i,!1),p[l]("load",r,!1)):(d[m]("onreadystatechange",o),p[m]("onload",r)),f("mark",["firstbyte",u],null,"api");var x=0,E=e(4)},{}]},{},["loader"]);</script><link rel="shortcut icon" href="https://cursos.alura.com.br/images/alura/favicon.ico">
	
	<link href="./Spring MVC I_ Aula 9 - Atividade 3 Enviando arquivos ao servidor _ Alura - Cursos online de tecnologia_files/css" rel="stylesheet">
	<link rel="preconnect" href="https://fonts.gstatic.com/">
	
	<link rel="stylesheet" href="./Spring MVC I_ Aula 9 - Atividade 3 Enviando arquivos ao servidor _ Alura - Cursos online de tecnologia_files/video-js.css">
    <link rel="stylesheet" href="./Spring MVC I_ Aula 9 - Atividade 3 Enviando arquivos ao servidor _ Alura - Cursos online de tecnologia_files/video-js-resolutions.css">
    <link rel="stylesheet" href="./Spring MVC I_ Aula 9 - Atividade 3 Enviando arquivos ao servidor _ Alura - Cursos online de tecnologia_files/prettify.css">

	<link rel="stylesheet" href="./Spring MVC I_ Aula 9 - Atividade 3 Enviando arquivos ao servidor _ Alura - Cursos online de tecnologia_files/base.css">
	<link rel="stylesheet" href="./Spring MVC I_ Aula 9 - Atividade 3 Enviando arquivos ao servidor _ Alura - Cursos online de tecnologia_files/formattedText.css">
	
	<link rel="stylesheet" href="./Spring MVC I_ Aula 9 - Atividade 3 Enviando arquivos ao servidor _ Alura - Cursos online de tecnologia_files/container.css">
	<link rel="stylesheet" href="./Spring MVC I_ Aula 9 - Atividade 3 Enviando arquivos ao servidor _ Alura - Cursos online de tecnologia_files/classPage.css">
	<link rel="stylesheet" href="./Spring MVC I_ Aula 9 - Atividade 3 Enviando arquivos ao servidor _ Alura - Cursos online de tecnologia_files/menuSettings.css">
	<link rel="stylesheet" href="./Spring MVC I_ Aula 9 - Atividade 3 Enviando arquivos ao servidor _ Alura - Cursos online de tecnologia_files/alternativeList.css">
	<link rel="stylesheet" href="./Spring MVC I_ Aula 9 - Atividade 3 Enviando arquivos ao servidor _ Alura - Cursos online de tecnologia_files/taskFeedback.css">
	<link rel="stylesheet" href="./Spring MVC I_ Aula 9 - Atividade 3 Enviando arquivos ao servidor _ Alura - Cursos online de tecnologia_files/markdown.css">
	<link rel="stylesheet" href="./Spring MVC I_ Aula 9 - Atividade 3 Enviando arquivos ao servidor _ Alura - Cursos online de tecnologia_files/finishSection.css">
	<link rel="stylesheet" href="./Spring MVC I_ Aula 9 - Atividade 3 Enviando arquivos ao servidor _ Alura - Cursos online de tecnologia_files/phrase.css">
	<link rel="stylesheet" href="./Spring MVC I_ Aula 9 - Atividade 3 Enviando arquivos ao servidor _ Alura - Cursos online de tecnologia_files/hqexplanation.css">
	<link rel="stylesheet" href="./Spring MVC I_ Aula 9 - Atividade 3 Enviando arquivos ao servidor _ Alura - Cursos online de tecnologia_files/openquestion.css">
	<link rel="stylesheet" href="./Spring MVC I_ Aula 9 - Atividade 3 Enviando arquivos ao servidor _ Alura - Cursos online de tecnologia_files/textcontent.css">
	<link rel="stylesheet" href="./Spring MVC I_ Aula 9 - Atividade 3 Enviando arquivos ao servidor _ Alura - Cursos online de tecnologia_files/video.css">
	<link rel="stylesheet" href="./Spring MVC I_ Aula 9 - Atividade 3 Enviando arquivos ao servidor _ Alura - Cursos online de tecnologia_files/singlechoice.css">
	<link rel="stylesheet" href="./Spring MVC I_ Aula 9 - Atividade 3 Enviando arquivos ao servidor _ Alura - Cursos online de tecnologia_files/music.css">
	<link rel="stylesheet" href="./Spring MVC I_ Aula 9 - Atividade 3 Enviando arquivos ao servidor _ Alura - Cursos online de tecnologia_files/multiplechoice.css">
	<link rel="stylesheet" href="./Spring MVC I_ Aula 9 - Atividade 3 Enviando arquivos ao servidor _ Alura - Cursos online de tecnologia_files/videodialog.css">
	<link rel="stylesheet" href="./Spring MVC I_ Aula 9 - Atividade 3 Enviando arquivos ao servidor _ Alura - Cursos online de tecnologia_files/fillintheblank.css">
	<link rel="stylesheet" href="./Spring MVC I_ Aula 9 - Atividade 3 Enviando arquivos ao servidor _ Alura - Cursos online de tecnologia_files/speakingpractice.css">
	<link rel="stylesheet" href="./Spring MVC I_ Aula 9 - Atividade 3 Enviando arquivos ao servidor _ Alura - Cursos online de tecnologia_files/pronunciationpractice.css">
	<link rel="stylesheet" href="./Spring MVC I_ Aula 9 - Atividade 3 Enviando arquivos ao servidor _ Alura - Cursos online de tecnologia_files/repetition.css">
	<link rel="stylesheet" href="./Spring MVC I_ Aula 9 - Atividade 3 Enviando arquivos ao servidor _ Alura - Cursos online de tecnologia_files/genericVideo.css">
	<link rel="stylesheet" href="./Spring MVC I_ Aula 9 - Atividade 3 Enviando arquivos ao servidor _ Alura - Cursos online de tecnologia_files/taskContent.css">
	<link rel="stylesheet" href="./Spring MVC I_ Aula 9 - Atividade 3 Enviando arquivos ao servidor _ Alura - Cursos online de tecnologia_files/taskButtons.css">
	<link rel="stylesheet" href="./Spring MVC I_ Aula 9 - Atividade 3 Enviando arquivos ao servidor _ Alura - Cursos online de tecnologia_files/markdownEditor.css">
	<link rel="stylesheet" href="./Spring MVC I_ Aula 9 - Atividade 3 Enviando arquivos ao servidor _ Alura - Cursos online de tecnologia_files/audioPlayer.css">

	
	
	<style type="text/css">
		.task:before {
			background-color: #FFE000;
		}
	</style>
	
	
	
	</head>
<body data-gr-c-s-loaded="true">

<section class="task" data-task-type="hqexplanation" data-task-id="11455" data-author-id="75042" data-course-code="spring-mvc-1-criando-aplicacoes-web" data-section-number="9" data-domain="cursos.alura.com.br" data-hasfeedbackanswer="false">
	<button title="Abrir/Fechar menu" aria-label="Abrir/Fechar menu" type="button" class="openMenu-button task-body-button "></button>
	
	<section class="task-body">
		<header class="task-body-header">
			<div class="container">
				<h1 class="task-body-header-title">
					<svg class="task-body-header-title-svg" aria-label="Atividade de Explicação">
						<use xlink:href="/images/gnarus/classPage/icon-menu-icons.svg#HQ_EXPLANATION"></use>
					</svg>
					<small>03</small>
					<span class="task-body-header-title-text"> Enviando arquivos ao servidor</span>
				</h1>
				<div class="task-body-header-actions">
					<a href="https://cursos.alura.com.br/course/spring-mvc-1-criando-aplicacoes-web/task/11455/next" aria-hidden="true" class="task-actions-button task-actions-button-next task-submit">Próxima Atividade</a>
				</div>
			</div>
		</header>
		<main class="task-body-main" data-should-warn="false">
			





	
		




<section class="hqExplanation" id="task-content">
	<div class="container">
	




<div class="settings">
	<button type="button" class="settings-button" aria-label="Configurações"></button>
	<div class="settings-box">
		<span class="settings-box-title"></span>
		<ul class="settings-box-list">
			
				
				
				
					<li class="settings-box-item settings-box-item-player"><a class="settings-box-item-player--disabled" onclick="event.preventDefault();">Mudar o Player</a></li>
					
						<li class="settings-box-item settings-box-item-suggestion"><a href="https://cursos.alura.com.br/suggestions/new/spring-mvc-1-criando-aplicacoes-web/11455/question">Sugerir Melhoria</a></li>
					
				
			
			
		</ul>
	</div>
</div>
		<div class="formattedText">
			<p>Nossa aplicação já tem uma série de funcionalidades. Ela lista, cadastra e valida os produtos e ainda nos mostra qualquer problema que ocorre durante o processo de cadastramento dos livros.</p>
<p>Neste capítulo, faremos com que a aplicação permita o cadastro do sumário dos livros. Os sumários na maioria das vezes são feitos em PDF. Sendo assim, vamos fazer com que o nosso sistema hospede os arquivos no servidor.</p>
<p>Começaremos a fazer esta mudança a partir do formúlário de cadastro de produtos. O <code>form.jsp</code> agora terá um novo campo com o label <code>sumario</code> e o <code>input</code> - que desta vez será do tipo <code>file</code>. Este tipo é usado exatamente para os casos nos quais queremos enviar um arquivo para o servidor. Usando este tipo de campo, o navegador já saberá que é preciso abrir um janela de seleção para selecionarmos o arquivo. O <code>name</code> deste campo <code>file</code> também será "súmario". Com isto teremos o seguinte código:</p>
<pre class="prettyprint"><code><span class="tag">&lt;div&gt;</span><span class="pln">
    </span><span class="tag">&lt;label&gt;</span><span class="pln">Sumário</span><span class="tag">&lt;/label&gt;</span><span class="pln">
    </span><span class="tag">&lt;input</span><span class="pln"> </span><span class="atn">name</span><span class="pun">=</span><span class="atv">"sumario"</span><span class="pln"> </span><span class="atn">type</span><span class="pun">=</span><span class="atv">"file"</span><span class="pln"> </span><span class="tag">/&gt;</span><span class="pln">
</span><span class="tag">&lt;/div&gt;</span></code></pre>
<p>O <code>form.jsp</code> com esta adição ficará assim:</p>
<pre class="prettyprint"><code><span class="tag">&lt;form:form</span><span class="pln"> </span><span class="atn">action</span><span class="pun">=</span><span class="atv">"${ s:mvcUrl('PC#gravar').build() }"</span><span class="pln"> </span><span class="atn">method</span><span class="pun">=</span><span class="atv">"post"</span><span class="pln"> </span><span class="atn">commandName</span><span class="pun">=</span><span class="atv">"produto"</span><span class="tag">&gt;</span><span class="pln">
    </span><span class="tag">&lt;div&gt;</span><span class="pln">
        </span><span class="tag">&lt;label&gt;</span><span class="pln">Título</span><span class="tag">&lt;/label&gt;</span><span class="pln"> 
        </span><span class="tag">&lt;form:input</span><span class="pln"> </span><span class="atn">path</span><span class="pun">=</span><span class="atv">"titulo"</span><span class="pln"> </span><span class="tag">/&gt;</span><span class="pln">
        </span><span class="tag">&lt;form:errors</span><span class="pln"> </span><span class="atn">path</span><span class="pun">=</span><span class="atv">"titulo"</span><span class="pln"> </span><span class="tag">/&gt;</span><span class="pln">
    </span><span class="tag">&lt;/div&gt;</span><span class="pln">
    </span><span class="tag">&lt;div&gt;</span><span class="pln">
        </span><span class="tag">&lt;label&gt;</span><span class="pln">Descrição</span><span class="tag">&lt;/label&gt;</span><span class="pln">
        </span><span class="tag">&lt;form:textarea</span><span class="pln"> </span><span class="atn">rows</span><span class="pun">=</span><span class="atv">"10"</span><span class="pln"> </span><span class="atn">cols</span><span class="pun">=</span><span class="atv">"20"</span><span class="pln"> </span><span class="atn">path</span><span class="pun">=</span><span class="atv">"descricao"</span><span class="pln"> </span><span class="tag">/&gt;</span><span class="pln">
        </span><span class="tag">&lt;form:errors</span><span class="pln"> </span><span class="atn">path</span><span class="pun">=</span><span class="atv">"descricao"</span><span class="pln"> </span><span class="tag">/&gt;</span><span class="pln">
    </span><span class="tag">&lt;/div&gt;</span><span class="pln">
    </span><span class="tag">&lt;div&gt;</span><span class="pln">
        </span><span class="tag">&lt;label&gt;</span><span class="pln">Páginas</span><span class="tag">&lt;/label&gt;</span><span class="pln">
        </span><span class="tag">&lt;form:input</span><span class="pln"> </span><span class="atn">path</span><span class="pun">=</span><span class="atv">"paginas"</span><span class="pln"> </span><span class="tag">/&gt;</span><span class="pln">
        </span><span class="tag">&lt;form:errors</span><span class="pln"> </span><span class="atn">path</span><span class="pun">=</span><span class="atv">"paginas"</span><span class="pln"> </span><span class="tag">/&gt;</span><span class="pln"> 
    </span><span class="tag">&lt;/div&gt;</span><span class="pln">
    </span><span class="tag">&lt;div&gt;</span><span class="pln">
        </span><span class="tag">&lt;label&gt;</span><span class="pln">Data de Lançamento</span><span class="tag">&lt;/label&gt;</span><span class="pln">
        </span><span class="tag">&lt;form:input</span><span class="pln"> </span><span class="atn">path</span><span class="pun">=</span><span class="atv">"dataLancamento"</span><span class="pln"> </span><span class="tag">/&gt;</span><span class="pln">
        </span><span class="tag">&lt;form:errors</span><span class="pln"> </span><span class="atn">path</span><span class="pun">=</span><span class="atv">"dataLancamento"</span><span class="pln"> </span><span class="tag">/&gt;</span><span class="pln">
    </span><span class="tag">&lt;/div&gt;</span><span class="pln">
    </span><span class="tag">&lt;c:forEach</span><span class="pln"> </span><span class="atn">items</span><span class="pun">=</span><span class="atv">"${tipos}"</span><span class="pln"> </span><span class="atn">var</span><span class="pun">=</span><span class="atv">"tipoPreco"</span><span class="pln"> </span><span class="atn">varStatus</span><span class="pun">=</span><span class="atv">"status"</span><span class="tag">&gt;</span><span class="pln">
        </span><span class="tag">&lt;div&gt;</span><span class="pln">
            </span><span class="tag">&lt;label&gt;</span><span class="pln">${tipoPreco}</span><span class="tag">&lt;/label&gt;</span><span class="pln"> 
            </span><span class="tag">&lt;form:input</span><span class="pln"> </span><span class="atn">path</span><span class="pun">=</span><span class="atv">"precos[${status.index}].valor"</span><span class="pln"> </span><span class="tag">/&gt;</span><span class="pln"> 
            </span><span class="tag">&lt;form:hidden</span><span class="pln"> </span><span class="atn">path</span><span class="pun">=</span><span class="atv">"precos[${status.index}].tipo"</span><span class="pln"> </span><span class="atn">value</span><span class="pun">=</span><span class="atv">"${tipoPreco}"</span><span class="pln"> </span><span class="tag">/&gt;</span><span class="pln">
        </span><span class="tag">&lt;/div&gt;</span><span class="pln">
    </span><span class="tag">&lt;/c:forEach&gt;</span><span class="pln">

    </span><span class="tag">&lt;div&gt;</span><span class="pln">
        </span><span class="tag">&lt;label&gt;</span><span class="pln">Sumário</span><span class="tag">&lt;/label&gt;</span><span class="pln">
        </span><span class="tag">&lt;input</span><span class="pln"> </span><span class="atn">name</span><span class="pun">=</span><span class="atv">"sumario"</span><span class="pln"> </span><span class="atn">type</span><span class="pun">=</span><span class="atv">"file"</span><span class="pln"> </span><span class="tag">/&gt;</span><span class="pln">
    </span><span class="tag">&lt;/div&gt;</span><span class="pln">
    </span><span class="tag">&lt;button</span><span class="pln"> </span><span class="atn">type</span><span class="pun">=</span><span class="atv">"submit"</span><span class="tag">&gt;</span><span class="pln">Cadastrar</span><span class="tag">&lt;/button&gt;</span><span class="pln">
</span><span class="tag">&lt;/form:form&gt;</span></code></pre>
<p>Isto é tudo que precisamos fazer no <code>form.jsp</code>. Agora precisamos atualizar a classe <code>Produto</code>. Vamos adicionar também um novo atributo chamado <code>sumarioPath</code> e os seus <strong>*Getters and Setters</strong>. Este será do tipo <code>String</code>. </p>
<p>A classe <code>Produto</code> ficará assim:</p>
<pre class="prettyprint"><code><span class="lit">@Entity</span><span class="pln">
</span><span class="kwd">public</span><span class="pln"> </span><span class="kwd">class</span><span class="pln"> </span><span class="typ">Produto</span><span class="pln"> </span><span class="pun">{</span><span class="pln">    

    </span><span class="pun">[...]</span><span class="pln">
    </span><span class="kwd">private</span><span class="pln"> </span><span class="typ">String</span><span class="pln"> sumarioPath</span><span class="pun">;</span><span class="pln">
    </span><span class="pun">[...]</span><span class="pln">

    </span><span class="kwd">public</span><span class="pln"> </span><span class="typ">String</span><span class="pln"> getSumarioPath</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
        </span><span class="kwd">return</span><span class="pln"> sumarioPath</span><span class="pun">;</span><span class="pln">
    </span><span class="pun">}</span><span class="pln">
    </span><span class="kwd">public</span><span class="pln"> </span><span class="kwd">void</span><span class="pln"> setSumarioPath</span><span class="pun">(</span><span class="typ">String</span><span class="pln"> sumarioPath</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
        </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">sumarioPath </span><span class="pun">=</span><span class="pln"> sumarioPath</span><span class="pun">;</span><span class="pln">
    </span><span class="pun">}</span><span class="pln">

</span><span class="pun">}</span></code></pre>
<p>Existem várias estratégias para guardar arquivos nas aplicações. Uma delas seria guardar o arquivo no banco de dados, mas esta seria muito trabalhosa e precisaríamos converter o arquivo para um formato aceito pelo banco, geralmente <code>bytes</code>. Outra opção seria guardar nas pastas do sistema de arquivos do servidor. Optaremos por esta segunda opção, por isso, o atributo <code>sumarioPath</code> é do tipo <code>String</code>. Nele será guardado apenas o caminho (<code>path</code>) do arquivo. </p>
<p>Nossa classe <code>Produto</code> já está pronta para armazenar o caminho do arquivo. Podemos então modificar o <code>ProdutosController</code> para receber este arquivo e realizar as operações necessárias. O <strong>Spring</strong> enviará nosso arquivo para o <code>ProdutosController</code> como um objeto do tipo <code>MultipartFile</code>, que chamaremos de <code>sumario</code>. Vamos imprimir o nome do arquivo no console do Eclipse usando o método <code>getOriginalFilename()</code>. Este será o teste básico para sabermos se o arquivo está sendo enviado corretamente.</p>
<p><strong>Observação</strong>: Lembre-se que o formulário envia os dados para o método <code>gravar</code>. Estas modificação são realizadas justamente neste método.</p>
<p>Então, receberemos em nosso <code>controller</code> este novo objeto da seguinte forma:</p>
<pre class="prettyprint"><code><span class="kwd">public</span><span class="pln"> </span><span class="typ">ModelAndView</span><span class="pln"> gravar</span><span class="pun">(</span><span class="typ">MultipartFile</span><span class="pln"> sumario</span><span class="pun">,</span><span class="pln"> </span><span class="lit">@Valid</span><span class="pln"> </span><span class="typ">Produto</span><span class="pln"> produto</span><span class="pun">,</span><span class="pln"> </span><span class="typ">BindingResult</span><span class="pln"> result</span><span class="pun">,</span><span class="pln">  </span><span class="typ">RedirectAttributes</span><span class="pln"> redirectAttributes</span><span class="pun">){</span><span class="pln"> </span><span class="pun">...</span><span class="pln"> </span><span class="pun">}</span></code></pre>
<p>Imprimindo o nome do arquivo, teremos o seguinte código no nosso método <code>gravar</code>.</p>
<pre class="prettyprint"><code><span class="lit">@RequestMapping</span><span class="pun">(</span><span class="pln">method</span><span class="pun">=</span><span class="typ">RequestMethod</span><span class="pun">.</span><span class="pln">POST</span><span class="pun">)</span><span class="pln">
</span><span class="kwd">public</span><span class="pln"> </span><span class="typ">ModelAndView</span><span class="pln"> gravar</span><span class="pun">(</span><span class="typ">MultipartFile</span><span class="pln"> sumario</span><span class="pun">,</span><span class="pln"> </span><span class="lit">@Valid</span><span class="pln"> </span><span class="typ">Produto</span><span class="pln"> produto</span><span class="pun">,</span><span class="pln"> </span><span class="typ">BindingResult</span><span class="pln"> result</span><span class="pun">,</span><span class="pln">  </span><span class="typ">RedirectAttributes</span><span class="pln"> redirectAttributes</span><span class="pun">){</span><span class="pln">

    </span><span class="typ">System</span><span class="pun">.</span><span class="kwd">out</span><span class="pun">.</span><span class="pln">println</span><span class="pun">(</span><span class="pln">sumario</span><span class="pun">.</span><span class="pln">getOriginalFilename</span><span class="pun">());</span><span class="pln">

    </span><span class="kwd">if</span><span class="pun">(</span><span class="pln">result</span><span class="pun">.</span><span class="pln">hasErrors</span><span class="pun">()){</span><span class="pln">
        </span><span class="kwd">return</span><span class="pln"> form</span><span class="pun">(</span><span class="pln">produto</span><span class="pun">);</span><span class="pln">
    </span><span class="pun">}</span><span class="pln">
    produtoDao</span><span class="pun">.</span><span class="pln">gravar</span><span class="pun">(</span><span class="pln">produto</span><span class="pun">);</span><span class="pln">
    redirectAttributes</span><span class="pun">.</span><span class="pln">addFlashAttribute</span><span class="pun">(</span><span class="str">"message"</span><span class="pun">,</span><span class="str">"Produto cadastrado com sucesso"</span><span class="pun">);</span><span class="pln">
    </span><span class="kwd">return</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> </span><span class="typ">ModelAndView</span><span class="pun">(</span><span class="str">"redirect:produtos"</span><span class="pun">);</span><span class="pln">
</span><span class="pun">}</span></code></pre>
<p>Teste agora, cadastrar um produto preenchendo todos os campos, inclusive escolhendo um arquivo qualquer para o sumário. Teremos um erro!
<img src="./Spring MVC I_ Aula 9 - Atividade 3 Enviando arquivos ao servidor _ Alura - Cursos online de tecnologia_files/springmvc_i_webaapp_9_1_erro_multipart.png" alt="multipart request error"></p>
<p>A mensagem do erro diz que a requisição atual não é <code>multipart</code>. Requisições deste tipo podem fazer envios de arquivos, sendo estes de qualquer tipo. Corrigir o erro é simples, basta usar o atributo <code>enctype</code> com o valor <code>multipart/form-data</code> na tag <code>form</code> do nosso <code>form.jsp</code>.</p>
<pre class="prettyprint"><code><span class="tag">&lt;form:form</span><span class="pln"> </span><span class="atn">action</span><span class="pun">=</span><span class="atv">"${ s:mvcUrl('PC#gravar').build() }"</span><span class="pln"> </span><span class="atn">method</span><span class="pun">=</span><span class="atv">"post"</span><span class="pln"> </span><span class="atn">commandName</span><span class="pun">=</span><span class="atv">"produto"</span><span class="pln"> </span><span class="atn">enctype</span><span class="pun">=</span><span class="atv">"multipart/form-data"</span><span class="tag">&gt;</span><span class="pln">
    [...]
</span><span class="tag">&lt;/form:form&gt;</span></code></pre>
<p>Atualize a página de cadastro de produtos. Novamente, tente cadastrar um produto preenchendo todos os campos. Teremos um novo erro.</p>
<p><img src="./Spring MVC I_ Aula 9 - Atividade 3 Enviando arquivos ao servidor _ Alura - Cursos online de tecnologia_files/springmvc_i_webaapp_9_1_erro_multipart_resolver.png" alt="erro multipart form data resolver"></p>
<p>A mensagem de erro nos diz que era esperado um <code>MultipartHttpServletRequest</code> e nos pergunta <code>is a MultipartResolver configured?</code>. Esta mensagem parece bem ser clara. Ela nos pergunta se temos um <code>MultipartResolver</code> configurado. Não configuramos nada disso em nossa aplicação. Vamos fazer essa configuração, então.</p>
<p>Nossas configurações ficam na classe <code>AppWebConfiguration</code>. Vamos até esta classe e adicionaremos a nova configuração. Vamos criar um método chamado <code>multipartResolver</code> que retorna um objeto do tipo <code>MultipartResolver</code>. Este objeto será instanciado da classe <code>StandardServletMultipartResolver</code> e retornado. Sendo assim, teremos o seguinte código em nossa classe <code>AppWebConfiguration</code>:</p>
<pre class="prettyprint"><code><span class="lit">@EnableWebMvc</span><span class="pln">
</span><span class="lit">@ComponentScan</span><span class="pun">(</span><span class="pln">basePackageClasses</span><span class="pun">={</span><span class="typ">HomeController</span><span class="pun">.</span><span class="kwd">class</span><span class="pun">,</span><span class="pln"> </span><span class="typ">ProdutoDAO</span><span class="pun">.</span><span class="kwd">class</span><span class="pun">})</span><span class="pln">
</span><span class="kwd">public</span><span class="pln"> </span><span class="kwd">class</span><span class="pln"> </span><span class="typ">AppWebConfiguration</span><span class="pln"> </span><span class="pun">{</span><span class="pln">

    </span><span class="pun">[...]</span><span class="pln">
    </span><span class="lit">@Bean</span><span class="pln">
    </span><span class="kwd">public</span><span class="pln"> </span><span class="typ">MultipartResolver</span><span class="pln"> multipartResolver</span><span class="pun">(){</span><span class="pln">
        </span><span class="kwd">return</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> </span><span class="typ">StandardServletMultipartResolver</span><span class="pun">();</span><span class="pln">
    </span><span class="pun">}</span><span class="pln">

</span><span class="pun">}</span></code></pre>
<p>Agora que temos um <code>multipartResolver</code> configurado em nossa aplicação, podemos tentar cadastrar um produto novamente. Lembre-se de reiniciar o servidor para as alterações funcionarem.</p>
<p><strong>Observação</strong>: <code>MultipartResolver</code> se refere a um resolvedor de dados multimidia. Quando temos texto e arquivos por exemplo. Os arquivos podem ser: imagem, PDF e outros. Este objeto é que identifica cada um dos recursos enviados e nos fornece uma forma mais simples de manipulalos.</p>
<p>Quando tentarmos cadastrar um produto agora, iremos receber um novo erro.
<img src="./Spring MVC I_ Aula 9 - Atividade 3 Enviando arquivos ao servidor _ Alura - Cursos online de tecnologia_files/springmvc_i_webaapp_9_1_null_pointer_exception.png" alt="null pointer exception"></p>
<p>Este erro acontece porque o nosso método <code>gravar</code>, em <code>ProdutosController</code>, tenta imprimir o nome do arquivo enviado. Aparentemente não resolvemos nosso problema de <code>multipartResolver</code> por completo. Mesmo tendo feito a configuração do <code>multipartResolver</code>, o <strong>Spring</strong> ainda não consegue fazer a conversão dos dados. Teremos que configurar mais algumas coisas.</p>
<p>As novas configurações devem ser feitas na classe <code>ServletSpringMVC</code>, que é a classe de inicialização da nossa aplicação. Nesta classe, iremos sobrescrever um método chamado <code>customizeRegistration</code> que recebe um objeto do tipo <code>Dynamic</code> que chamaremos de <code>registration</code>. Neste objeto, usaremos o método <code>setMultipartConfig</code> que requer um objeto do tipo <code>MultipartConfigElement</code>. O <code>MultipartConfigElement</code> espera receber uma <code>String</code> que configure o arquivo. Não usaremos nenhuma configuração para o arquivo, queremos receber este do jeito que vier. Passamos então uma <code>String</code> vazia.</p>
<p>O código destas mudanças ficará assim:</p>
<pre class="prettyprint"><code><span class="kwd">public</span><span class="pln"> </span><span class="kwd">class</span><span class="pln"> </span><span class="typ">ServletSpringMVC</span><span class="pln"> </span><span class="kwd">extends</span><span class="pln"> </span><span class="typ">AbstractAnnotationConfigDispatcherServletInitializer</span><span class="pun">{</span><span class="pln">
    </span><span class="pun">[...]</span><span class="pln">
    </span><span class="lit">@Override</span><span class="pln">
    </span><span class="kwd">protected</span><span class="pln"> </span><span class="kwd">void</span><span class="pln"> customizeRegistration</span><span class="pun">(</span><span class="typ">Dynamic</span><span class="pln"> registration</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
        registration</span><span class="pun">.</span><span class="pln">setMultipartConfig</span><span class="pun">(</span><span class="kwd">new</span><span class="pln"> </span><span class="typ">MultipartConfigElement</span><span class="pun">(</span><span class="str">""</span><span class="pun">));</span><span class="pln">
    </span><span class="pun">}</span><span class="pln">

</span><span class="pun">}</span></code></pre>
<p>Reiniciando o servidor e testando novamente, veremos que o produto foi cadastrado com sucesso e no console do <strong>Eclipse</strong> o nome do arquivo deve estar impresso. Verifique, faça o teste.</p>
<p>Apesar de funcionar, a intenção não é simplesmente imprimir o nome do arquivo no console. Mas sim enviar o arquivo e deixa-lo hospedado no servidor. Este código é um código de infra (abreviação de infraestrutura). Ele carregará os arquivos enviados e assim irá salvar os arquivos em algum diretório/pasta especifico.</p>
<p>Vamos criar uma nova classe para conter esse código. Vamos chama-la de <code>FileSaver</code> e deixa-la no pacote <code>br.com.casadocodigo.loja.infra</code>. Nós precisamos que essa classe seja reconhecida pelo <strong>Spring</strong> para que ele consiga fazer os <code>injects</code> corretamente. Está classe é importante e ela representa um componente em nosso sistema. Teremos então que usar a anotação <code>@Component</code>.</p>
<p>Nesta classe criaremos um método chamado <code>write</code> que fará a transferência do arquivo e retornará o caminho onde o arquivo foi salvo. Este método então precisara de duas informações, o local onde o arquivo será salvo e o arquivo em si. O local será recebido como <code>String</code> e o arquivo como um objeto <code>MultipartFile</code>. Os quais chamaremos de <code>baseFolder</code> e <code>file</code> respectivamente.</p>
<pre class="prettyprint"><code><span class="lit">@Component</span><span class="pln">
</span><span class="kwd">public</span><span class="pln"> </span><span class="kwd">class</span><span class="pln"> </span><span class="typ">FileSaver</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    </span><span class="kwd">public</span><span class="pln"> </span><span class="typ">String</span><span class="pln"> write</span><span class="pun">(</span><span class="typ">String</span><span class="pln"> baseFolder</span><span class="pun">,</span><span class="pln"> </span><span class="typ">MultipartFile</span><span class="pln"> file</span><span class="pun">){</span><span class="pln">

    </span><span class="pun">}</span><span class="pln">
</span><span class="pun">}</span></code></pre>
<p>Com o <code>baseFolder</code> e o <code>file</code> em mãos, conseguiremos facilmente montar uma <code>String</code> que indique o caminho do arquivo a ser salvo. Com esta <code>String</code> construída, criaremos um novo objeto do tipo <code>File</code> que irá representar o arquivo a ser gravado no servidor. Este último objeto será passado para o método <code>transferTo</code> que será o método responsável por transferir o arquivo para o servidor. O código parece ser mais fácil de entender.</p>
<pre class="prettyprint"><code><span class="lit">@Component</span><span class="pln">
</span><span class="kwd">public</span><span class="pln"> </span><span class="kwd">class</span><span class="pln"> </span><span class="typ">FileSaver</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    </span><span class="kwd">public</span><span class="pln"> </span><span class="typ">String</span><span class="pln"> write</span><span class="pun">(</span><span class="typ">String</span><span class="pln"> baseFolder</span><span class="pun">,</span><span class="pln"> </span><span class="typ">MultipartFile</span><span class="pln"> file</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
        </span><span class="kwd">try</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
            </span><span class="typ">String</span><span class="pln"> path </span><span class="pun">=</span><span class="pln"> baseFolder </span><span class="pun">+</span><span class="pln"> </span><span class="str">"/"</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> file</span><span class="pun">.</span><span class="pln">getOriginalFilename</span><span class="pun">();</span><span class="pln">
            file</span><span class="pun">.</span><span class="pln">transferTo</span><span class="pun">(</span><span class="kwd">new</span><span class="pln"> </span><span class="typ">File</span><span class="pun">(</span><span class="pln">path</span><span class="pun">));</span><span class="pln">
            </span><span class="kwd">return</span><span class="pln"> path</span><span class="pun">;</span><span class="pln">

        </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">catch</span><span class="pln"> </span><span class="pun">(</span><span class="typ">IllegalStateException</span><span class="pln"> </span><span class="pun">|</span><span class="pln"> </span><span class="typ">IOException</span><span class="pln"> e</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
            </span><span class="kwd">throw</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> </span><span class="typ">RuntimeException</span><span class="pun">(</span><span class="pln">e</span><span class="pun">);</span><span class="pln">
        </span><span class="pun">}</span><span class="pln">
    </span><span class="pun">}</span><span class="pln">
</span><span class="pun">}</span></code></pre>
<p>Note que a <code>String path</code> monta o caminho do arquivo. O <code>file.transferTO()</code> faz a transferência do arquivo e o objeto <code>File</code> representa um o arquivo no servidor. O bloco <code>try/catch</code> foi adicionado por causa que operações <code>I/O</code>, ou seja, de entrada e saída, que podem gerar erros. Perceba também que estamos retornando a <code>String path</code> dentro do bloco <code>try</code>.</p>
<p>Apesar deste código parecer claro, não podemos definir com certeza o caminho final do arquivo, o caminho absoluto que ele vai ter ao ser enviado. Podemos mudar isto detectando o caminho atual que o usuário está em nosso sistema e fazer o upload do arquivo baseado neste caminho. Para isso precisamos dos dados da requisição, pois com ela sabemos onde o usuário está em nosso sistema.</p>
<p>Pensando nisso, criaremos um atributo do tipo <code>HttpServletRequest</code> na classe <code>FileSaver</code>, chamaremos este de <code>request</code> e o marcaremos com a anotação <code>@Autowired</code> para que o <strong>Spring</strong> faça o <code>inject</code> desse atributo. A partir deste objeto, conseguimos extrair o contexto atual em que o usuário se encontra e então conseguir o caminho absoluto desse diretório em nosso servidor.</p>
<p>Vamos começar criando este novo atributo.</p>
<pre class="prettyprint"><code><span class="lit">@Component</span><span class="pln">
</span><span class="kwd">public</span><span class="pln"> </span><span class="kwd">class</span><span class="pln"> </span><span class="typ">FileSaver</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    </span><span class="lit">@Autowired</span><span class="pln">
    </span><span class="kwd">private</span><span class="pln"> </span><span class="typ">HttpServletRequest</span><span class="pln"> request</span><span class="pun">;</span><span class="pln">
    </span><span class="pun">[...]</span><span class="pln">
</span><span class="pun">}</span></code></pre>
<p>E então, dentro do bloco <code>try/catch</code> usaremos o método <code>getServletContext</code> para extrair o contexto atual do usuário e logo em seguida, do retorno deste método, usaremos o <code>getRealPath</code> que irá nos retornar o caminho completo de onde está determinada pasta dentro do servidor. Passaremos para o <code>getRealPath</code> o nome da pasta base que estamos recebendo em nosso método para que este método encontre a pasta correta. O bloco <code>try/catch</code> então fica dessa forma:</p>
<pre class="prettyprint"><code><span class="kwd">public</span><span class="pln"> </span><span class="typ">String</span><span class="pln"> write</span><span class="pun">(</span><span class="typ">String</span><span class="pln"> baseFolder</span><span class="pun">,</span><span class="pln"> </span><span class="typ">MultipartFile</span><span class="pln"> file</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    </span><span class="kwd">try</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
        request</span><span class="pun">.</span><span class="pln">getServletContext</span><span class="pun">().</span><span class="pln">getRealPath</span><span class="pun">(</span><span class="str">"/"</span><span class="pun">+</span><span class="pln">baseFolder</span><span class="pun">);</span><span class="pln">
        </span><span class="pun">[...]</span><span class="pln">
    </span><span class="pun">}</span><span class="kwd">catch</span><span class="pun">([...]){</span><span class="pln">
        </span><span class="pun">[...]</span><span class="pln">
    </span><span class="pun">}</span><span class="pln">
</span><span class="pun">}</span></code></pre>
<p>O caminho do arquivo agora é diferente do que fizemos antes, ele não é mais uma simples junção do <code>baseFolder</code> com o nome do arquivo. Este caminho agora precisa ser concatenado com o caminho absoluto que acabamos de implementar através do request. Sendo assim, guardaremos o retorno do <code>request.getServletContext().getRealPath("/"+baseFolder);</code> em uma nova <code>String</code> que chamaremos de <code>realPath</code> e usaremos esta <code>String</code> para concatenar ao <code>path</code> do arquivo que geramos anteriormente. Observe o código:</p>
<pre class="prettyprint"><code><span class="lit">@Component</span><span class="pln">
</span><span class="kwd">public</span><span class="pln"> </span><span class="kwd">class</span><span class="pln"> </span><span class="typ">FileSaver</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    </span><span class="lit">@Autowired</span><span class="pln">
    </span><span class="kwd">private</span><span class="pln"> </span><span class="typ">HttpServletRequest</span><span class="pln"> request</span><span class="pun">;</span><span class="pln">

    </span><span class="kwd">public</span><span class="pln"> </span><span class="typ">String</span><span class="pln"> write</span><span class="pun">(</span><span class="typ">String</span><span class="pln"> baseFolder</span><span class="pun">,</span><span class="pln"> </span><span class="typ">MultipartFile</span><span class="pln"> file</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
        </span><span class="kwd">try</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
            </span><span class="typ">String</span><span class="pln"> realPath </span><span class="pun">=</span><span class="pln"> request</span><span class="pun">.</span><span class="pln">getServletContext</span><span class="pun">().</span><span class="pln">getRealPath</span><span class="pun">(</span><span class="str">"/"</span><span class="pun">+</span><span class="pln">baseFolder</span><span class="pun">);</span><span class="pln">
            </span><span class="typ">String</span><span class="pln"> path </span><span class="pun">=</span><span class="pln"> realPath </span><span class="pun">+</span><span class="pln"> </span><span class="str">"/"</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> file</span><span class="pun">.</span><span class="pln">getOriginalFilename</span><span class="pun">();</span><span class="pln">
            file</span><span class="pun">.</span><span class="pln">transferTo</span><span class="pun">(</span><span class="kwd">new</span><span class="pln"> </span><span class="typ">File</span><span class="pun">(</span><span class="pln">path</span><span class="pun">));</span><span class="pln">
            </span><span class="kwd">return</span><span class="pln"> path</span><span class="pun">;</span><span class="pln">

        </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">catch</span><span class="pln"> </span><span class="pun">(</span><span class="typ">IllegalStateException</span><span class="pln"> </span><span class="pun">|</span><span class="pln"> </span><span class="typ">IOException</span><span class="pln"> e</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
            </span><span class="kwd">throw</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> </span><span class="typ">RuntimeException</span><span class="pun">(</span><span class="pln">e</span><span class="pun">);</span><span class="pln">
        </span><span class="pun">}</span><span class="pln">
    </span><span class="pun">}</span><span class="pln">
</span><span class="pun">}</span></code></pre>
<p>Quase nada mudou, apenas a <code>String path</code> deixou de concatenar o <code>basePath</code> e passou a concatenar o <code>realPath</code>. A classe <code>FileSaver</code> está pronta. Ela recebe um arquivo e o nome de uma pasta, transfere o arquivo enviado pelo formulário para a pasta e retorna o caminho onde o arquivo foi salvo.</p>
<p>Agora só precisamos alterar o <code>ProdutosController</code> para usar a classe <code>FileSaver</code>. Como queremos que o <strong>Spring</strong> fique responsável por instanciar estes objetos. Usaremos a mesma estratégia do <code>request</code> na classe <code>FileSaver</code>, mas agora em nosso <code>ProdutosController</code> com o <code>FileSaver</code>. Criaremos um atribudo da classe e assinaremos este atributo com<code>@Autowired</code>.</p>
<pre class="prettyprint"><code><span class="lit">@Controller</span><span class="pln">
</span><span class="lit">@RequestMapping</span><span class="pun">(</span><span class="str">"/produtos"</span><span class="pun">)</span><span class="pln">
</span><span class="kwd">public</span><span class="pln"> </span><span class="kwd">class</span><span class="pln"> </span><span class="typ">ProdutosController</span><span class="pln"> </span><span class="pun">{</span><span class="pln">

    </span><span class="lit">@Autowired</span><span class="pln">
    </span><span class="kwd">private</span><span class="pln"> </span><span class="typ">FileSaver</span><span class="pln"> fileSaver</span><span class="pun">;</span><span class="pln">

    </span><span class="pun">[...]</span><span class="pln">
</span><span class="pun">}</span></code></pre>
<p>O próximo passo é usar este objeto no método <code>gravar</code>. Usaremos o método <code>write</code> deste objeto e passaremos o objeto <code>MultipartFile</code> que recebemos no método <code>gravar</code> como arquivo a ser salvo e como nome da pasta passaremos a <code>String arquivos-sumario</code>. Vamos pôr este código após a verificação de erros, desta forma o arquivo só será efetivamente gravado caso não haja erros de validação no formulário. O código do método gravar fica assim:</p>
<pre class="prettyprint"><code><span class="lit">@RequestMapping</span><span class="pun">(</span><span class="pln">method</span><span class="pun">=</span><span class="typ">RequestMethod</span><span class="pun">.</span><span class="pln">POST</span><span class="pun">)</span><span class="pln">
</span><span class="kwd">public</span><span class="pln"> </span><span class="typ">ModelAndView</span><span class="pln"> gravar</span><span class="pun">(</span><span class="typ">MultipartFile</span><span class="pln"> sumario</span><span class="pun">,</span><span class="pln"> </span><span class="lit">@Valid</span><span class="pln"> </span><span class="typ">Produto</span><span class="pln"> produto</span><span class="pun">,</span><span class="pln"> </span><span class="typ">BindingResult</span><span class="pln"> result</span><span class="pun">,</span><span class="pln">  </span><span class="typ">RedirectAttributes</span><span class="pln"> redirectAttributes</span><span class="pun">){</span><span class="pln">

    </span><span class="kwd">if</span><span class="pun">(</span><span class="pln">result</span><span class="pun">.</span><span class="pln">hasErrors</span><span class="pun">()){</span><span class="pln">
        </span><span class="kwd">return</span><span class="pln"> form</span><span class="pun">(</span><span class="pln">produto</span><span class="pun">);</span><span class="pln">
    </span><span class="pun">}</span><span class="pln">

    </span><span class="typ">String</span><span class="pln"> path </span><span class="pun">=</span><span class="pln"> fileSaver</span><span class="pun">.</span><span class="pln">write</span><span class="pun">(</span><span class="str">"arquivos-sumario"</span><span class="pun">,</span><span class="pln"> sumario</span><span class="pun">);</span><span class="pln">
    produto</span><span class="pun">.</span><span class="pln">setSumarioPath</span><span class="pun">(</span><span class="pln">path</span><span class="pun">);</span><span class="pln">

    produtoDao</span><span class="pun">.</span><span class="pln">gravar</span><span class="pun">(</span><span class="pln">produto</span><span class="pun">);</span><span class="pln">
    redirectAttributes</span><span class="pun">.</span><span class="pln">addFlashAttribute</span><span class="pun">(</span><span class="str">"message"</span><span class="pun">,</span><span class="str">"Produto cadastrado com sucesso"</span><span class="pun">);</span><span class="pln">
    </span><span class="kwd">return</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> </span><span class="typ">ModelAndView</span><span class="pun">(</span><span class="str">"redirect:produtos"</span><span class="pun">);</span><span class="pln">
</span><span class="pun">}</span></code></pre>
<p>Lembre-se que a classe que salva o arquivo no servidor retorna o caminho do arquivo. Este caminho deve ser salvo no banco de dados, por isso estamos usando a <code>String path</code> e passando esta <code>String</code> para o método <code>setSumarioPath</code> do <code>produto</code>. </p>
<p>Podemos reiniciar o servidor e fazer alguns testes agora. Mas quando reiniciamos, recebemos um erro:
<img src="./Spring MVC I_ Aula 9 - Atividade 3 Enviando arquivos ao servidor _ Alura - Cursos online de tecnologia_files/springmvc_i_webaapp_9_2_bean_not_found.png" alt="No qualifying bean found for dependency">  </p>
<p>O <strong>Spring</strong> indica que não foi encontrado nenhum <code>bean</code> qualificado. Isso acontece porque ele não consegue encontrar nossa classe <code>FileSaver</code> pois esta em um pacote não gerenciado pelo <strong>Spring</strong>. Solucionamos isso atualizando o <code>componentScan</code> na classe de configuração da aplicação, a classe <code>AppWebConfiguration</code>:</p>
<pre class="prettyprint"><code><span class="lit">@EnableWebMvc</span><span class="pln">
</span><span class="lit">@ComponentScan</span><span class="pun">(</span><span class="pln">basePackageClasses</span><span class="pun">={</span><span class="typ">HomeController</span><span class="pun">.</span><span class="kwd">class</span><span class="pun">,</span><span class="pln"> </span><span class="typ">ProdutoDAO</span><span class="pun">.</span><span class="kwd">class</span><span class="pun">,</span><span class="pln"> </span><span class="typ">FileSaver</span><span class="pun">.</span><span class="kwd">class</span><span class="pun">})</span><span class="pln">
</span><span class="kwd">public</span><span class="pln"> </span><span class="kwd">class</span><span class="pln"> </span><span class="typ">AppWebConfiguration</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    </span><span class="pun">[...]</span><span class="pln">
</span><span class="pun">}</span></code></pre>
<p>Com esta configuração feita, o servidor reiniciará normalmente. Então podemos testar cadastrar um livro com sumário. Por questões de ser um teste simples, escolha um arquivo qualquer, pode ser até mesmo uma pequena imagem. Preencha e submeta o formulário para ver o resultado.
<img src="./Spring MVC I_ Aula 9 - Atividade 3 Enviando arquivos ao servidor _ Alura - Cursos online de tecnologia_files/springmvc_i_webaapp_9_2_file_not_found.png" alt="Erro 500 - FileNotFoundException"></p>
<p>O erro acontece porque a pasta <code>arquivos-sumario</code> não existe. Vamos criar então esta pasta dentro de <code>src/main/webapp/</code>. Com a pasta criada, refaça o teste e veja tudo funcionar perfeitamente. </p>
<p>Note que apesar de salvarmos o caminho completo para o arquivo, não precisamos realmente do caminho completo. Perceba que se acessarmos <code>localhost:8080/casadocodigo/arquivos-sumario/NOME_DO_ARQUIVO</code> já poderiamos acessar o arquivo diretamente. Mas se tentarmos teremos um erro 404.<img src="./Spring MVC I_ Aula 9 - Atividade 3 Enviando arquivos ao servidor _ Alura - Cursos online de tecnologia_files/springmvc_i_webaapp_9_2_404_file_not_found.png" alt="404 - file not found"></p>
<p>O motivo deste erro descobriremos mais a frente neste curso, mas por hora, faremos um pequeno ajuste no caminho retornado pelo médoto <code>write</code> na classe <code>FileSaver</code> que retorna o caminho absoluto do nosso arquivo para retornar o caminho relativo ao nosso sistema.</p>
<p>O caminho relativo é composto pelo <code>baseFolder</code> + nomeDoArquivo. Nosso método que estava assim:</p>
<pre class="prettyprint"><code><span class="kwd">public</span><span class="pln"> </span><span class="typ">String</span><span class="pln"> write</span><span class="pun">(</span><span class="typ">String</span><span class="pln"> baseFolder</span><span class="pun">,</span><span class="pln"> </span><span class="typ">MultipartFile</span><span class="pln"> file</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    </span><span class="kwd">try</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
        </span><span class="typ">String</span><span class="pln"> realPath </span><span class="pun">=</span><span class="pln"> request</span><span class="pun">.</span><span class="pln">getServletContext</span><span class="pun">().</span><span class="pln">getRealPath</span><span class="pun">(</span><span class="str">"/"</span><span class="pun">+</span><span class="pln">baseFolder</span><span class="pun">);</span><span class="pln">
        </span><span class="typ">String</span><span class="pln"> path </span><span class="pun">=</span><span class="pln"> realPath </span><span class="pun">+</span><span class="pln"> </span><span class="str">"/"</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> file</span><span class="pun">.</span><span class="pln">getOriginalFilename</span><span class="pun">();</span><span class="pln">
        file</span><span class="pun">.</span><span class="pln">transferTo</span><span class="pun">(</span><span class="kwd">new</span><span class="pln"> </span><span class="typ">File</span><span class="pun">(</span><span class="pln">path</span><span class="pun">));</span><span class="pln">
        </span><span class="kwd">return</span><span class="pln"> path</span><span class="pun">;</span><span class="pln">

    </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">catch</span><span class="pln"> </span><span class="pun">(</span><span class="typ">IllegalStateException</span><span class="pln"> </span><span class="pun">|</span><span class="pln"> </span><span class="typ">IOException</span><span class="pln"> e</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
        </span><span class="kwd">throw</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> </span><span class="typ">RuntimeException</span><span class="pun">(</span><span class="pln">e</span><span class="pun">);</span><span class="pln">
    </span><span class="pun">}</span><span class="pln">
</span><span class="pun">}</span></code></pre>
<p>Agora ficará assim:</p>
<pre class="prettyprint"><code><span class="kwd">public</span><span class="pln"> </span><span class="typ">String</span><span class="pln"> write</span><span class="pun">(</span><span class="typ">String</span><span class="pln"> baseFolder</span><span class="pun">,</span><span class="pln"> </span><span class="typ">MultipartFile</span><span class="pln"> file</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    </span><span class="kwd">try</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
        </span><span class="typ">String</span><span class="pln"> realPath </span><span class="pun">=</span><span class="pln"> request</span><span class="pun">.</span><span class="pln">getServletContext</span><span class="pun">().</span><span class="pln">getRealPath</span><span class="pun">(</span><span class="str">"/"</span><span class="pun">+</span><span class="pln">baseFolder</span><span class="pun">);</span><span class="pln">
        </span><span class="typ">String</span><span class="pln"> path </span><span class="pun">=</span><span class="pln"> realPath </span><span class="pun">+</span><span class="pln"> </span><span class="str">"/"</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> file</span><span class="pun">.</span><span class="pln">getOriginalFilename</span><span class="pun">();</span><span class="pln">
        file</span><span class="pun">.</span><span class="pln">transferTo</span><span class="pun">(</span><span class="kwd">new</span><span class="pln"> </span><span class="typ">File</span><span class="pun">(</span><span class="pln">path</span><span class="pun">));</span><span class="pln">
        </span><span class="kwd">return</span><span class="pln"> baseFolder </span><span class="pun">+</span><span class="pln"> </span><span class="str">"/"</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> file</span><span class="pun">.</span><span class="pln">getOriginalFilename</span><span class="pun">();</span><span class="pln">

    </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">catch</span><span class="pln"> </span><span class="pun">(</span><span class="typ">IllegalStateException</span><span class="pln"> </span><span class="pun">|</span><span class="pln"> </span><span class="typ">IOException</span><span class="pln"> e</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
        </span><span class="kwd">throw</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> </span><span class="typ">RuntimeException</span><span class="pun">(</span><span class="pln">e</span><span class="pun">);</span><span class="pln">
    </span><span class="pun">}</span><span class="pln">
</span><span class="pun">}</span></code></pre>
<p>Está mudança aparentemente não afetou em nada nosso sistema, mas agora em vez de guardamos o caminho completo até o arquivo, armazenamos apenas uma parte. Isso fará com que fique mais simples a exibição das imagens posteriormente.</p>
<h3>Recapitulando</h3>
<p>Fizemos uma série de adições em nosso sistema nesta aula. Adicionamos um <code>input</code> de arquivos para o envio dos sumários dos livros que serão cadastrados. Agora, os produtos guardam o caminho dos sumários. O <strong><em>upload</em></strong> dos arquivos também funciona graças às configurações de <code>Resolver</code> e de <code>Multipart</code> que fizemos e por último - mas não menos importante - fizemos a classe <code>FileSaver</code> que efetivamente realiza a transferência dos arquivos para o servidor.</p>
<p>Em seguida, faremos alguns exercícios para fixar o que aprendemos até aqui. Não se esqueça de que qualquer dúvida pode ser postada no forúm.</p>

		</div>
	</div>
</section>
	
	
	
	
	
	
	
	
	
	
	
	

			
				



<section class="task-actions">
	<div class="container">
		





<a href="https://cursos.alura.com.br/forum/curso-spring-mvc-1-criando-aplicacoes-web/exercicio-enviando-arquivos-ao-servidor/11455/novo" class=" task-actions-button task-actions-button-forum" data-amplitude-onsubmit="{&quot;name&quot;:&quot;help-needed&quot;,&quot;course-code&quot;:&quot;spring-mvc-1-criando-aplicacoes-web&quot;,&quot;task-id&quot;:&quot;11455&quot;,&quot;task-kind&quot;:&quot;Explicação&quot;}">Tirar Dúvida</a><!--
		 --><a href="https://cursos.alura.com.br/course/spring-mvc-1-criando-aplicacoes-web/task/11455/next" class="task-actions-button task-body-actions-button task-actions-button-next">Próxima Atividade</a>
	</div>
</section>
			
		</main>
	</section>
	











<aside class="task-menu" style="position: fixed; transform: translateY(-422.531px);">
	<section class="task-menu-header">
		<button title="Abrir/Fechar menu" aria-label="Abrir/Fechar menu" type="button" class="openMenu-button task-menu-button "></button>
		<div class="task-menu-header-info">
			<a class="task-menu-header-info-title" href="https://cursos.alura.com.br/course/spring-mvc-1-criando-aplicacoes-web" title="Ir para página do curso">
				<img src="./Spring MVC I_ Aula 9 - Atividade 3 Enviando arquivos ao servidor _ Alura - Cursos online de tecnologia_files/spring-mvc-1-criando-aplicacoes-web.svg" alt="ícone Spring MVC I: Criando aplicações web" class="task-menu-header-info-title-icon " width="37.5px" height="37.5px">
				<h2 class="task-menu-header-info-title-text">Spring MVC I: Criando aplicações web</h2>
			</a>
			<div class="task-menu-header-info-progress">
				
				<span class="task-menu-header-info-progress-percentage ">39%</span>
				<span class="task-menu-header-info-progress-bar" style="background-image: linear-gradient(to right, #9de482, #9de482 39%, transparent 39%);"></span>
			</div>
		</div>
	</section>
	
	<section class="task-menu-section">
		<div class="task-menu-section-title">
			<span class="task-menu-section-title-number ">Aula<strong>09</strong>
				<span>de 14</span></span>
			<h3 class="task-menu-section-title-text">
				Enviando arquivos ao servidor
			</h3>
		</div>
	</section>
	<nav class="task-menu-nav">
		<h2 class="task-menu-nav-title">
			Atividades
			<span>3 de 7</span>
		</h2>
		<ul class="task-menu-nav-list">
			
				<li class="task-menu-nav-item ">
					<a href="https://cursos.alura.com.br/course/spring-mvc-1-criando-aplicacoes-web/task/11453" class="task-menu-nav-item-link task-menu-nav-item-link-VIDEO">
					<svg class="task-menu-nav-item-svg task-menu-nav-item-svg--done" aria-label="Atividade de Vídeo concluída">
						<use xlink:href="/images/gnarus/classPage/icon-menu-icons.svg#VIDEO"></use>
					</svg>
					<span class="task-menu-nav-item-number">01</span>
					<span class="task-menu-nav-item-text">
						<span class="task-menu-nav-item-title" title="Vídeo 1">
							Vídeo 1
						</span>
						
						<span class="task-menu-nav-item-infos">
							
								<span class="task-menu-nav-item-videoDuration" title="Ir para o Vídeo">13min</span>
							
						</span>
					</span>
					
					</a>
				</li>
			
				<li class="task-menu-nav-item ">
					<a href="https://cursos.alura.com.br/course/spring-mvc-1-criando-aplicacoes-web/task/11454" class="task-menu-nav-item-link task-menu-nav-item-link-VIDEO">
					<svg class="task-menu-nav-item-svg task-menu-nav-item-svg--done" aria-label="Atividade de Vídeo concluída">
						<use xlink:href="/images/gnarus/classPage/icon-menu-icons.svg#VIDEO"></use>
					</svg>
					<span class="task-menu-nav-item-number">02</span>
					<span class="task-menu-nav-item-text">
						<span class="task-menu-nav-item-title" title="Vídeo 2">
							Vídeo 2
						</span>
						
						<span class="task-menu-nav-item-infos">
							
								<span class="task-menu-nav-item-videoDuration" title="Ir para o Vídeo">16min</span>
							
						</span>
					</span>
					
					</a>
				</li>
			
				<li class="task-menu-nav-item task-menu-nav-item--selected">
					<a href="https://cursos.alura.com.br/course/spring-mvc-1-criando-aplicacoes-web/task/11455" class="task-menu-nav-item-link task-menu-nav-item-link-HQ_EXPLANATION">
					<svg class="task-menu-nav-item-svg task-menu-nav-item-svg--done" aria-label="Atividade de Explicação concluída">
						<use xlink:href="/images/gnarus/classPage/icon-menu-icons.svg#HQ_EXPLANATION"></use>
					</svg>
					<span class="task-menu-nav-item-number">03</span>
					<span class="task-menu-nav-item-text">
						<span class="task-menu-nav-item-title" title="Enviando arquivos ao servidor">
							Enviando arquivos ao servidor
						</span>
						
					</span></a>
				</li>
			
				<li class="task-menu-nav-item ">
					<a href="https://cursos.alura.com.br/course/spring-mvc-1-criando-aplicacoes-web/task/11456" class="task-menu-nav-item-link task-menu-nav-item-link-OPEN_QUESTION">
					<svg class="task-menu-nav-item-svg " aria-label="Atividade de Exercício Aberto não concluída">
						<use xlink:href="/images/gnarus/classPage/icon-menu-icons.svg#OPEN_QUESTION"></use>
					</svg>
					<span class="task-menu-nav-item-number">04</span>
					<span class="task-menu-nav-item-text">
						<span class="task-menu-nav-item-title" title="Criando o campo para enviar os arquivos">
							Criando o campo para enviar os arquivos
						</span>
						
					</span></a>
				</li>
			
				<li class="task-menu-nav-item ">
					<a href="https://cursos.alura.com.br/course/spring-mvc-1-criando-aplicacoes-web/task/11457" class="task-menu-nav-item-link task-menu-nav-item-link-OPEN_QUESTION">
					<svg class="task-menu-nav-item-svg " aria-label="Atividade de Exercício Aberto não concluída">
						<use xlink:href="/images/gnarus/classPage/icon-menu-icons.svg#OPEN_QUESTION"></use>
					</svg>
					<span class="task-menu-nav-item-number">05</span>
					<span class="task-menu-nav-item-text">
						<span class="task-menu-nav-item-title" title="Recebendo o arquivo no servidor">
							Recebendo o arquivo no servidor
						</span>
						
					</span></a>
				</li>
			
				<li class="task-menu-nav-item ">
					<a href="https://cursos.alura.com.br/course/spring-mvc-1-criando-aplicacoes-web/task/11458" class="task-menu-nav-item-link task-menu-nav-item-link-OPEN_QUESTION">
					<svg class="task-menu-nav-item-svg " aria-label="Atividade de Exercício Aberto não concluída">
						<use xlink:href="/images/gnarus/classPage/icon-menu-icons.svg#OPEN_QUESTION"></use>
					</svg>
					<span class="task-menu-nav-item-number">06</span>
					<span class="task-menu-nav-item-text">
						<span class="task-menu-nav-item-title" title="Isolando o código de upload de arquivos">
							Isolando o código de upload de arquivos
						</span>
						
					</span></a>
				</li>
			
				<li class="task-menu-nav-item ">
					<a href="https://cursos.alura.com.br/course/spring-mvc-1-criando-aplicacoes-web/task/11459" class="task-menu-nav-item-link task-menu-nav-item-link-OPEN_QUESTION">
					<svg class="task-menu-nav-item-svg " aria-label="Atividade de Exercício Aberto não concluída">
						<use xlink:href="/images/gnarus/classPage/icon-menu-icons.svg#OPEN_QUESTION"></use>
					</svg>
					<span class="task-menu-nav-item-number">07</span>
					<span class="task-menu-nav-item-text">
						<span class="task-menu-nav-item-title" title="Usando a nossa classe de upload de arquivo">
							Usando a nossa classe de upload de arquivo
						</span>
						
					</span></a>
				</li>
			
		</ul>
	</nav>
	<section class="task-menu-sections">
		<h2 class="task-menu-sections-title">
			Aulas
		</h2>
		<select class="task-menu-sections-select" onchange="location.href=&#39;/course/spring-mvc-1-criando-aplicacoes-web/section/&#39;+this.value;">
			
				<option value="1">01. Começando com SpringMVC</option>
			
				<option value="2">02. Cadastro de produtos</option>
			
				<option value="3">03. Cadastro de preços do produto</option>
			
				<option value="4">04. Listando os produtos</option>
			
				<option value="5">05. Redirect com Escopo de Flash</option>
			
				<option value="6">06. Validação e conversão de dados</option>
			
				<option value="7">07. Mais Validações </option>
			
				<option value="8">08. Formatação de datas</option>
			
				<option value="9" selected="">09. Enviando arquivos ao servidor</option>
			
				<option value="10">10. Url amigáveis</option>
			
				<option value="11">11. Expondo atributos no jsp</option>
			
				<option value="12">12. Escopo sessão</option>
			
				<option value="13">13. Carrinho de compras</option>
			
				<option value="14">14. Finalizando o carrinho</option>
			
		</select>
	</section>
	<section class="task-menu-others">
		<h2 class="task-menu-others-title ">
			Outros Links
		</h2>
		<a href="https://cursos.alura.com.br/forum/curso-spring-mvc-1-criando-aplicacoes-web/todos" class="task-menu-others-link task-menu-others-link-forum " title="Ir para o fórum do curso">Fórum</a>
		<a href="https://cursos.alura.com.br/dashboard" class="task-menu-others-link task-menu-others-link-curso" title="Ir para a página principal">Trocar Curso</a>
	</section>
	<section class="task-menu-footer">
		<a class="task-menu-footer-user" href="https://cursos.alura.com.br/user/altair-lage" title="Ir para sua página de usuário">
			<img src="./Spring MVC I_ Aula 9 - Atividade 3 Enviando arquivos ao servidor _ Alura - Cursos online de tecnologia_files/846d7bad034e3c292bc8e433e11b4683.png" alt="Gravatar de Altair Lage" class="task-menu-footer-img" width="40px" height="40px">
			
				<p class="task-menu-footer-detalhes">
					<span class="task-menu-footer-detalhes-nome">Altair Lage</span>
					<span class="task-menu-footer-detalhes-xp">
						27.4k xp
					</span>
				</p>
			
			<input type="hidden" value="">
			<input type="hidden" value="">
		</a>
		<a href="https://cursos.alura.com.br/dashboard" class="task-menu-footer-logo">
			<img src="./Spring MVC I_ Aula 9 - Atividade 3 Enviando arquivos ao servidor _ Alura - Cursos online de tecnologia_files/icon-menu-alura.svg" alt="Logo da Alura" class="task-menu-footer-logo-image" width="19px" height="32px" title="Ir para a página principal">
		</a>
	</section>
</aside>
</section>




	<script src="./Spring MVC I_ Aula 9 - Atividade 3 Enviando arquivos ao servidor _ Alura - Cursos online de tecnologia_files/jquery-2.1.3.min.js.download"></script>
	<script src="./Spring MVC I_ Aula 9 - Atividade 3 Enviando arquivos ao servidor _ Alura - Cursos online de tecnologia_files/buttonToggle.js.download" async=""></script>
	<script src="./Spring MVC I_ Aula 9 - Atividade 3 Enviando arquivos ao servidor _ Alura - Cursos online de tecnologia_files/sectionMenu.js.download" async=""></script>

	<script src="./Spring MVC I_ Aula 9 - Atividade 3 Enviando arquivos ao servidor _ Alura - Cursos online de tecnologia_files/marked.js.download"></script>
	<script src="./Spring MVC I_ Aula 9 - Atividade 3 Enviando arquivos ao servidor _ Alura - Cursos online de tecnologia_files/markdownEditor.js.download" async=""></script>
	<script src="./Spring MVC I_ Aula 9 - Atividade 3 Enviando arquivos ao servidor _ Alura - Cursos online de tecnologia_files/caret.js.download" async=""></script>
	<script src="./Spring MVC I_ Aula 9 - Atividade 3 Enviando arquivos ao servidor _ Alura - Cursos online de tecnologia_files/keydownWatchers.js.download" async=""></script>
	<script src="./Spring MVC I_ Aula 9 - Atividade 3 Enviando arquivos ao servidor _ Alura - Cursos online de tecnologia_files/prettify.js.download" async=""></script>

	<script src="./Spring MVC I_ Aula 9 - Atividade 3 Enviando arquivos ao servidor _ Alura - Cursos online de tecnologia_files/preventsDoubleClick.js.download" async=""></script>
	<script src="./Spring MVC I_ Aula 9 - Atividade 3 Enviando arquivos ao servidor _ Alura - Cursos online de tecnologia_files/assessment.js.download" async=""></script>
	<script src="./Spring MVC I_ Aula 9 - Atividade 3 Enviando arquivos ao servidor _ Alura - Cursos online de tecnologia_files/login-form.js.download" async=""></script>
	<script src="./Spring MVC I_ Aula 9 - Atividade 3 Enviando arquivos ao servidor _ Alura - Cursos online de tecnologia_files/classPage.js.download"></script>
	<script src="./Spring MVC I_ Aula 9 - Atividade 3 Enviando arquivos ao servidor _ Alura - Cursos online de tecnologia_files/aria.js.download"></script>
	<script src="./Spring MVC I_ Aula 9 - Atividade 3 Enviando arquivos ao servidor _ Alura - Cursos online de tecnologia_files/phrase.js.download"></script>
	<script src="./Spring MVC I_ Aula 9 - Atividade 3 Enviando arquivos ao servidor _ Alura - Cursos online de tecnologia_files/feedback.js.download"></script>
	
	

	
	
	
	

	<script src="./Spring MVC I_ Aula 9 - Atividade 3 Enviando arquivos ao servidor _ Alura - Cursos online de tecnologia_files/partitura.js.download"></script>
	<script src="./Spring MVC I_ Aula 9 - Atividade 3 Enviando arquivos ao servidor _ Alura - Cursos online de tecnologia_files/audioProgress.js.download"></script>

	
	
	
		

<script type="text/javascript" src="./Spring MVC I_ Aula 9 - Atividade 3 Enviando arquivos ao servidor _ Alura - Cursos online de tecnologia_files/amplitude.js.download"></script>

<script>

	amplitudeInit("84647047775d06b4051d80eccd387bd3");
	
	
		var userProperties = {"name":"Altair Lage","email":"altair.lage@datablink.com"};
		amplitudeIdentify("75042", userProperties);
	
	
	

	
	
	$('[data-amplitude]').on('click', function(){
		var data = $(this).data().amplitude;
		track(data);
	});
	
</script>

		
		
			<script>
				track({"name":"task-seen","course-code":"spring-mvc-1-criando-aplicacoes-web","task-id":"11455","task-kind":"Explicação"});
			</script>
		
	
	
 

<script type="text/javascript">window.NREUM||(NREUM={});NREUM.info={"errorBeacon":"bam.nr-data.net","licenseKey":"b5f9030682","agent":"","beacon":"bam.nr-data.net","applicationTime":46,"applicationID":"12544460","transactionName":"ZVFTNhEEXEdTWkdeV1wbchcQEV1ZHVtBGVtdWR8BAgBeQV8XVFlZQEFCTAsEQFhXQEJCUVxaHwEMC0ZGXVVfUkocZ1QBFwxdWnFWXUNKXVhdBxFKQVxdTmdWS1k=","queueTime":0}</script>

</body><object id="b8a92bc8-182b-b9a3-888b-a8a89b9b9191" width="0" height="0" type="application/gas-events-uni"></object></html>