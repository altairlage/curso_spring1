<!DOCTYPE html>
<!-- saved from url=(0081)https://cursos.alura.com.br/course/spring-mvc-1-criando-aplicacoes-web/task/11396 -->
<html lang="pt-BR" data-product="alura" class="gr__cursos_alura_com_br"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	
	<meta name="viewport" content="width=device-width, initial-scale=1">
	
	
	<title>Spring MVC I: Aula 2 - Atividade 4 Cadastro de produtos | Alura - Cursos online de tecnologia</title>
	
	
<script type="text/javascript" src="./Spring MVC I_ Aula 2 - Atividade 4 Cadastro de produtos _ Alura - Cursos online de tecnologia_files/b5f9030682"></script><script src="./Spring MVC I_ Aula 2 - Atividade 4 Cadastro de produtos _ Alura - Cursos online de tecnologia_files/nr-1044.min.js.download"></script><script type="text/javascript" async="" src="./Spring MVC I_ Aula 2 - Atividade 4 Cadastro de produtos _ Alura - Cursos online de tecnologia_files/amplitude-3.0.2-min.gz.js.download"></script><script type="text/javascript">window.NREUM||(NREUM={}),__nr_require=function(e,n,t){function r(t){if(!n[t]){var o=n[t]={exports:{}};e[t][0].call(o.exports,function(n){var o=e[t][1][n];return r(o||n)},o,o.exports)}return n[t].exports}if("function"==typeof __nr_require)return __nr_require;for(var o=0;o<t.length;o++)r(t[o]);return r}({1:[function(e,n,t){function r(){}function o(e,n,t){return function(){return i(e,[c.now()].concat(u(arguments)),n?null:this,t),n?void 0:this}}var i=e("handle"),a=e(2),u=e(3),f=e("ee").get("tracer"),c=e("loader"),s=NREUM;"undefined"==typeof window.newrelic&&(newrelic=s);var p=["setPageViewName","setCustomAttribute","setErrorHandler","finished","addToTrace","inlineHit","addRelease"],d="api-",l=d+"ixn-";a(p,function(e,n){s[n]=o(d+n,!0,"api")}),s.addPageAction=o(d+"addPageAction",!0),s.setCurrentRouteName=o(d+"routeName",!0),n.exports=newrelic,s.interaction=function(){return(new r).get()};var m=r.prototype={createTracer:function(e,n){var t={},r=this,o="function"==typeof n;return i(l+"tracer",[c.now(),e,t],r),function(){if(f.emit((o?"":"no-")+"fn-start",[c.now(),r,o],t),o)try{return n.apply(this,arguments)}finally{f.emit("fn-end",[c.now()],t)}}}};a("setName,setAttribute,save,ignore,onEnd,getContext,end,get".split(","),function(e,n){m[n]=o(l+n)}),newrelic.noticeError=function(e){"string"==typeof e&&(e=new Error(e)),i("err",[e,c.now()])}},{}],2:[function(e,n,t){function r(e,n){var t=[],r="",i=0;for(r in e)o.call(e,r)&&(t[i]=n(r,e[r]),i+=1);return t}var o=Object.prototype.hasOwnProperty;n.exports=r},{}],3:[function(e,n,t){function r(e,n,t){n||(n=0),"undefined"==typeof t&&(t=e?e.length:0);for(var r=-1,o=t-n||0,i=Array(o<0?0:o);++r<o;)i[r]=e[n+r];return i}n.exports=r},{}],4:[function(e,n,t){n.exports={exists:"undefined"!=typeof window.performance&&window.performance.timing&&"undefined"!=typeof window.performance.timing.navigationStart}},{}],ee:[function(e,n,t){function r(){}function o(e){function n(e){return e&&e instanceof r?e:e?f(e,u,i):i()}function t(t,r,o,i){if(!d.aborted||i){e&&e(t,r,o);for(var a=n(o),u=m(t),f=u.length,c=0;c<f;c++)u[c].apply(a,r);var p=s[y[t]];return p&&p.push([b,t,r,a]),a}}function l(e,n){v[e]=m(e).concat(n)}function m(e){return v[e]||[]}function w(e){return p[e]=p[e]||o(t)}function g(e,n){c(e,function(e,t){n=n||"feature",y[t]=n,n in s||(s[n]=[])})}var v={},y={},b={on:l,emit:t,get:w,listeners:m,context:n,buffer:g,abort:a,aborted:!1};return b}function i(){return new r}function a(){(s.api||s.feature)&&(d.aborted=!0,s=d.backlog={})}var u="nr@context",f=e("gos"),c=e(2),s={},p={},d=n.exports=o();d.backlog=s},{}],gos:[function(e,n,t){function r(e,n,t){if(o.call(e,n))return e[n];var r=t();if(Object.defineProperty&&Object.keys)try{return Object.defineProperty(e,n,{value:r,writable:!0,enumerable:!1}),r}catch(i){}return e[n]=r,r}var o=Object.prototype.hasOwnProperty;n.exports=r},{}],handle:[function(e,n,t){function r(e,n,t,r){o.buffer([e],r),o.emit(e,n,t)}var o=e("ee").get("handle");n.exports=r,r.ee=o},{}],id:[function(e,n,t){function r(e){var n=typeof e;return!e||"object"!==n&&"function"!==n?-1:e===window?0:a(e,i,function(){return o++})}var o=1,i="nr@id",a=e("gos");n.exports=r},{}],loader:[function(e,n,t){function r(){if(!x++){var e=h.info=NREUM.info,n=d.getElementsByTagName("script")[0];if(setTimeout(s.abort,3e4),!(e&&e.licenseKey&&e.applicationID&&n))return s.abort();c(y,function(n,t){e[n]||(e[n]=t)}),f("mark",["onload",a()+h.offset],null,"api");var t=d.createElement("script");t.src="https://"+e.agent,n.parentNode.insertBefore(t,n)}}function o(){"complete"===d.readyState&&i()}function i(){f("mark",["domContent",a()+h.offset],null,"api")}function a(){return E.exists&&performance.now?Math.round(performance.now()):(u=Math.max((new Date).getTime(),u))-h.offset}var u=(new Date).getTime(),f=e("handle"),c=e(2),s=e("ee"),p=window,d=p.document,l="addEventListener",m="attachEvent",w=p.XMLHttpRequest,g=w&&w.prototype;NREUM.o={ST:setTimeout,SI:p.setImmediate,CT:clearTimeout,XHR:w,REQ:p.Request,EV:p.Event,PR:p.Promise,MO:p.MutationObserver};var v=""+location,y={beacon:"bam.nr-data.net",errorBeacon:"bam.nr-data.net",agent:"js-agent.newrelic.com/nr-1044.min.js"},b=w&&g&&g[l]&&!/CriOS/.test(navigator.userAgent),h=n.exports={offset:u,now:a,origin:v,features:{},xhrWrappable:b};e(1),d[l]?(d[l]("DOMContentLoaded",i,!1),p[l]("load",r,!1)):(d[m]("onreadystatechange",o),p[m]("onload",r)),f("mark",["firstbyte",u],null,"api");var x=0,E=e(4)},{}]},{},["loader"]);</script><link rel="shortcut icon" href="https://cursos.alura.com.br/images/alura/favicon.ico">
	
	<link href="./Spring MVC I_ Aula 2 - Atividade 4 Cadastro de produtos _ Alura - Cursos online de tecnologia_files/css" rel="stylesheet">
	<link rel="preconnect" href="https://fonts.gstatic.com/">
	
	<link rel="stylesheet" href="./Spring MVC I_ Aula 2 - Atividade 4 Cadastro de produtos _ Alura - Cursos online de tecnologia_files/video-js.css">
    <link rel="stylesheet" href="./Spring MVC I_ Aula 2 - Atividade 4 Cadastro de produtos _ Alura - Cursos online de tecnologia_files/video-js-resolutions.css">
    <link rel="stylesheet" href="./Spring MVC I_ Aula 2 - Atividade 4 Cadastro de produtos _ Alura - Cursos online de tecnologia_files/prettify.css">

	<link rel="stylesheet" href="./Spring MVC I_ Aula 2 - Atividade 4 Cadastro de produtos _ Alura - Cursos online de tecnologia_files/base.css">
	<link rel="stylesheet" href="./Spring MVC I_ Aula 2 - Atividade 4 Cadastro de produtos _ Alura - Cursos online de tecnologia_files/formattedText.css">
	
	<link rel="stylesheet" href="./Spring MVC I_ Aula 2 - Atividade 4 Cadastro de produtos _ Alura - Cursos online de tecnologia_files/container.css">
	<link rel="stylesheet" href="./Spring MVC I_ Aula 2 - Atividade 4 Cadastro de produtos _ Alura - Cursos online de tecnologia_files/classPage.css">
	<link rel="stylesheet" href="./Spring MVC I_ Aula 2 - Atividade 4 Cadastro de produtos _ Alura - Cursos online de tecnologia_files/menuSettings.css">
	<link rel="stylesheet" href="./Spring MVC I_ Aula 2 - Atividade 4 Cadastro de produtos _ Alura - Cursos online de tecnologia_files/alternativeList.css">
	<link rel="stylesheet" href="./Spring MVC I_ Aula 2 - Atividade 4 Cadastro de produtos _ Alura - Cursos online de tecnologia_files/taskFeedback.css">
	<link rel="stylesheet" href="./Spring MVC I_ Aula 2 - Atividade 4 Cadastro de produtos _ Alura - Cursos online de tecnologia_files/markdown.css">
	<link rel="stylesheet" href="./Spring MVC I_ Aula 2 - Atividade 4 Cadastro de produtos _ Alura - Cursos online de tecnologia_files/finishSection.css">
	<link rel="stylesheet" href="./Spring MVC I_ Aula 2 - Atividade 4 Cadastro de produtos _ Alura - Cursos online de tecnologia_files/phrase.css">
	<link rel="stylesheet" href="./Spring MVC I_ Aula 2 - Atividade 4 Cadastro de produtos _ Alura - Cursos online de tecnologia_files/hqexplanation.css">
	<link rel="stylesheet" href="./Spring MVC I_ Aula 2 - Atividade 4 Cadastro de produtos _ Alura - Cursos online de tecnologia_files/openquestion.css">
	<link rel="stylesheet" href="./Spring MVC I_ Aula 2 - Atividade 4 Cadastro de produtos _ Alura - Cursos online de tecnologia_files/textcontent.css">
	<link rel="stylesheet" href="./Spring MVC I_ Aula 2 - Atividade 4 Cadastro de produtos _ Alura - Cursos online de tecnologia_files/video.css">
	<link rel="stylesheet" href="./Spring MVC I_ Aula 2 - Atividade 4 Cadastro de produtos _ Alura - Cursos online de tecnologia_files/singlechoice.css">
	<link rel="stylesheet" href="./Spring MVC I_ Aula 2 - Atividade 4 Cadastro de produtos _ Alura - Cursos online de tecnologia_files/music.css">
	<link rel="stylesheet" href="./Spring MVC I_ Aula 2 - Atividade 4 Cadastro de produtos _ Alura - Cursos online de tecnologia_files/multiplechoice.css">
	<link rel="stylesheet" href="./Spring MVC I_ Aula 2 - Atividade 4 Cadastro de produtos _ Alura - Cursos online de tecnologia_files/videodialog.css">
	<link rel="stylesheet" href="./Spring MVC I_ Aula 2 - Atividade 4 Cadastro de produtos _ Alura - Cursos online de tecnologia_files/fillintheblank.css">
	<link rel="stylesheet" href="./Spring MVC I_ Aula 2 - Atividade 4 Cadastro de produtos _ Alura - Cursos online de tecnologia_files/speakingpractice.css">
	<link rel="stylesheet" href="./Spring MVC I_ Aula 2 - Atividade 4 Cadastro de produtos _ Alura - Cursos online de tecnologia_files/pronunciationpractice.css">
	<link rel="stylesheet" href="./Spring MVC I_ Aula 2 - Atividade 4 Cadastro de produtos _ Alura - Cursos online de tecnologia_files/repetition.css">
	<link rel="stylesheet" href="./Spring MVC I_ Aula 2 - Atividade 4 Cadastro de produtos _ Alura - Cursos online de tecnologia_files/genericVideo.css">
	<link rel="stylesheet" href="./Spring MVC I_ Aula 2 - Atividade 4 Cadastro de produtos _ Alura - Cursos online de tecnologia_files/taskContent.css">
	<link rel="stylesheet" href="./Spring MVC I_ Aula 2 - Atividade 4 Cadastro de produtos _ Alura - Cursos online de tecnologia_files/taskButtons.css">
	<link rel="stylesheet" href="./Spring MVC I_ Aula 2 - Atividade 4 Cadastro de produtos _ Alura - Cursos online de tecnologia_files/markdownEditor.css">
	<link rel="stylesheet" href="./Spring MVC I_ Aula 2 - Atividade 4 Cadastro de produtos _ Alura - Cursos online de tecnologia_files/audioPlayer.css">

	
	
	<style type="text/css">
		.task:before {
			background-color: #FFE000;
		}
	</style>
	
	
	
	</head>
<body data-gr-c-s-loaded="true">

<section class="task" data-task-type="hqexplanation" data-task-id="11396" data-author-id="75042" data-course-code="spring-mvc-1-criando-aplicacoes-web" data-section-number="2" data-domain="cursos.alura.com.br" data-hasfeedbackanswer="false">
	<button title="Abrir/Fechar menu" aria-label="Abrir/Fechar menu" type="button" class="openMenu-button task-body-button "></button>
	
	<section class="task-body">
		<header class="task-body-header">
			<div class="container">
				<h1 class="task-body-header-title">
					<svg class="task-body-header-title-svg" aria-label="Atividade de Explicação">
						<use xlink:href="/images/gnarus/classPage/icon-menu-icons.svg#HQ_EXPLANATION"></use>
					</svg>
					<small>04</small>
					<span class="task-body-header-title-text"> Cadastro de produtos</span>
				</h1>
				<div class="task-body-header-actions">
					<a href="https://cursos.alura.com.br/course/spring-mvc-1-criando-aplicacoes-web/task/11396/next" aria-hidden="true" class="task-actions-button task-actions-button-next task-submit">Próxima Atividade</a>
				</div>
			</div>
		</header>
		<main class="task-body-main" data-should-warn="false">
			





	
		




<section class="hqExplanation" id="task-content">
	<div class="container">
	




<div class="settings">
	<button type="button" class="settings-button" aria-label="Configurações"></button>
	<div class="settings-box">
		<span class="settings-box-title"></span>
		<ul class="settings-box-list">
			
				
				
				
					<li class="settings-box-item settings-box-item-player"><a class="settings-box-item-player--disabled" onclick="event.preventDefault();">Mudar o Player</a></li>
					
						<li class="settings-box-item settings-box-item-suggestion"><a href="https://cursos.alura.com.br/suggestions/new/spring-mvc-1-criando-aplicacoes-web/11396/question">Sugerir Melhoria</a></li>
					
				
			
			
		</ul>
	</div>
</div>
		<div class="formattedText">
			<p>Nossa aplicação está começando a tomar forma. Ela já lista os produtos em nossa <strong>home</strong>. Agora começaremos a criar o cadastro de produtos, para assim podermos cadastrar livros da Casa do Código.</p>
<p>Para o cadastro de produtos, precisaremos de um formulário. Sendo assim, crie um novo arquivo <strong>JSP</strong> chamado <strong>form.jsp</strong> dentro da pasta <code>WEB-INF/views/produtos/</code>. A pasta <code>produtos</code> ainda não existe, teremos que criá-la também. faremos alterações para deixar no padrão HTML 5. O arquivo <code>form.jsp</code> inicial deve estar parecido com esse:</p>
<pre class="prettyprint"><code><span class="pun">&lt;%@</span><span class="pln"> page language</span><span class="pun">=</span><span class="str">"java"</span><span class="pln"> contentType</span><span class="pun">=</span><span class="str">"text/html; charset=UTF-8"</span><span class="pln">
    pageEncoding</span><span class="pun">=</span><span class="str">"UTF-8"</span><span class="pln">%&gt;
</span><span class="dec">&lt;!DOCTYPE html&gt;</span><span class="pln">
</span><span class="tag">&lt;html&gt;</span><span class="pln">
</span><span class="tag">&lt;head&gt;</span><span class="pln">
</span><span class="tag">&lt;meta</span><span class="pln"> </span><span class="atn">charset</span><span class="pun">=</span><span class="atv">"UTF-8"</span><span class="tag">&gt;</span><span class="pln">
</span><span class="tag">&lt;title&gt;</span><span class="pln">Livros de Java, Android, iPhone, Ruby, PHP e muito mais - Casa do Código</span><span class="tag">&lt;/title&gt;</span><span class="pln">
</span><span class="tag">&lt;/head&gt;</span><span class="pln">
</span><span class="tag">&lt;body&gt;</span><span class="pln">

</span><span class="tag">&lt;/body&gt;</span><span class="pln">
</span><span class="tag">&lt;/html&gt;</span></code></pre>
<p>O próximo passo é criar o <strong>html</strong> referente ao formulário (<code>form</code>) de cadastro dos livros. Eles terão inicialmente os seguintes atributos: <strong>Título</strong>, <strong>Descrição</strong> e <strong>Número de Páginas</strong>, todos do tipo texto. Vamos então criar o formulário com estes campos. O formulário deve ficar parecido com este:</p>
<pre class="prettyprint"><code><span class="tag">&lt;form</span><span class="pln"> </span><span class="atn">action</span><span class="pun">=</span><span class="atv">"/produtos"</span><span class="pln"> </span><span class="atn">method</span><span class="pun">=</span><span class="atv">"post"</span><span class="tag">&gt;</span><span class="pln">
    </span><span class="tag">&lt;div&gt;</span><span class="pln">
        </span><span class="tag">&lt;label&gt;</span><span class="pln">Título</span><span class="tag">&lt;/label&gt;</span><span class="pln">
        </span><span class="tag">&lt;input</span><span class="pln"> </span><span class="atn">type</span><span class="pun">=</span><span class="atv">"text"</span><span class="pln"> </span><span class="atn">name</span><span class="pun">=</span><span class="atv">"titulo"</span><span class="pln"> </span><span class="tag">/&gt;</span><span class="pln">
    </span><span class="tag">&lt;/div&gt;</span><span class="pln">
    </span><span class="tag">&lt;div&gt;</span><span class="pln">
        </span><span class="tag">&lt;label&gt;</span><span class="pln">Descrição</span><span class="tag">&lt;/label&gt;</span><span class="pln">
        </span><span class="tag">&lt;textarea</span><span class="pln"> </span><span class="atn">rows</span><span class="pun">=</span><span class="atv">"10"</span><span class="pln"> </span><span class="atn">cols</span><span class="pun">=</span><span class="atv">"20"</span><span class="pln"> </span><span class="atn">name</span><span class="pun">=</span><span class="atv">"descricao"</span><span class="tag">&gt;&lt;/textarea&gt;</span><span class="pln">
    </span><span class="tag">&lt;/div&gt;</span><span class="pln">
    </span><span class="tag">&lt;div&gt;</span><span class="pln">
        </span><span class="tag">&lt;label&gt;</span><span class="pln">Páginas</span><span class="tag">&lt;/label&gt;</span><span class="pln">
        </span><span class="tag">&lt;input</span><span class="pln"> </span><span class="atn">type</span><span class="pun">=</span><span class="atv">"text"</span><span class="pln"> </span><span class="atn">name</span><span class="pun">=</span><span class="atv">"paginas"</span><span class="pln"> </span><span class="tag">/&gt;</span><span class="pln">
    </span><span class="tag">&lt;/div&gt;</span><span class="pln">
    </span><span class="tag">&lt;button</span><span class="pln"> </span><span class="atn">type</span><span class="pun">=</span><span class="atv">"submit"</span><span class="tag">&gt;</span><span class="pln">Cadastrar</span><span class="tag">&lt;/button&gt;</span><span class="pln">
</span><span class="tag">&lt;/form&gt;</span></code></pre>
<p>Note que estamos fazendo o formulário enviar seus dados para o <strong>path</strong> <code>/produtos</code> e que o estamos enviando via <code>post</code> no método do formulário.</p>
<p>Nosso <code>form.jsp</code> deve ser acessado na url <code>localhost:8080/casadocodigo/produtos/form</code>. Se acessarmos agora, veremos uma página de <code>erro 404</code>, pois as <em>views</em> não podem ser acessadas diretamente. Lembra? Como resolvemos isso? Criando um <code>Controller</code>!</p>
<p>Crie então o <code>ProdutosController</code> dentro do pacote <code>br.com.casadocodigo.loja.controllers</code>. Neste <code>Controller</code> crie o método <code>form</code> que retorna a <em>view</em> com o formulário. Mapeie o <strong>path</strong> que este método vai atender com a anotação <code>@RequestMapping</code>. O <code>ProdutosController</code> deve ficar parecido com este:</p>
<pre class="prettyprint"><code><span class="lit">@Controller</span><span class="pln">
</span><span class="kwd">public</span><span class="pln"> </span><span class="kwd">class</span><span class="pln"> </span><span class="typ">ProdutosController</span><span class="pln"> </span><span class="pun">{</span><span class="pln">

    </span><span class="lit">@RequestMapping</span><span class="pun">(</span><span class="str">"/produtos/form"</span><span class="pun">)</span><span class="pln">
    </span><span class="kwd">public</span><span class="pln"> </span><span class="typ">String</span><span class="pln"> form</span><span class="pun">(){</span><span class="pln">
        </span><span class="kwd">return</span><span class="pln"> </span><span class="str">"produtos/form"</span><span class="pun">;</span><span class="pln">
    </span><span class="pun">}</span><span class="pln">

</span><span class="pun">}</span></code></pre>
<p>Se acessarmos agora o nosso formulário em <code>localhost:8080/casadocodigo/produtos/form</code>, devemos vê-lo sem nenhum problema. Não esqueça de reiniciar o servidor! Teste o formulário, tente cadastrar um livro!</p>
<p>Quando enviamos o formulário, recebemos um <code>erro 404</code>:</p>
<p><img src="./Spring MVC I_ Aula 2 - Atividade 4 Cadastro de produtos _ Alura - Cursos online de tecnologia_files/springmvc_i_webaapp_2_1_erro_404_url_errada.png" alt="Erro 404 com url errada"></p>
<p>Mas tem algo estranho neste erro 404 , note a <strong>url</strong>. O caminho está sem o <code>/casadocodigo/</code>. Isto acontece porque o nosso formulário não aponta <code>/casadocodigo/</code> em sua action. Vamos fazê-lo apontar, então.</p>
<pre class="prettyprint"><code><span class="tag">&lt;form</span><span class="pln"> </span><span class="atn">action</span><span class="pun">=</span><span class="atv">"/casadocodigo/produtos"</span><span class="pln"> </span><span class="atn">method</span><span class="pun">=</span><span class="atv">"post"</span><span class="tag">&gt;</span><span class="pln">
    [...]
</span><span class="tag">&lt;/form&gt;</span></code></pre>
<p>Este é o primeiro passo para resolver nosso problema. Agora precisamos mapear o <code>path</code> <code>/produtos</code> para um método em no <code>ProdutosController</code>. Algo parecido com:</p>
<pre class="prettyprint"><code><span class="lit">@RequestMapping</span><span class="pun">(</span><span class="str">"/produtos"</span><span class="pun">)</span><span class="pln">
</span><span class="kwd">public</span><span class="pln"> </span><span class="typ">String</span><span class="pln"> gravar</span><span class="pun">(</span><span class="typ">String</span><span class="pln"> titulo</span><span class="pun">,</span><span class="pln"> </span><span class="typ">String</span><span class="pln"> descricao</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">int</span><span class="pln"> paginas</span><span class="pun">){</span><span class="pln">
    </span><span class="typ">System</span><span class="pun">.</span><span class="kwd">out</span><span class="pun">.</span><span class="pln">println</span><span class="pun">(</span><span class="pln">titulo</span><span class="pun">);</span><span class="pln">
    </span><span class="typ">System</span><span class="pun">.</span><span class="kwd">out</span><span class="pun">.</span><span class="pln">println</span><span class="pun">(</span><span class="pln">descricao</span><span class="pun">);</span><span class="pln">
    </span><span class="typ">System</span><span class="pun">.</span><span class="kwd">out</span><span class="pun">.</span><span class="pln">println</span><span class="pun">(</span><span class="pln">paginas</span><span class="pun">);</span><span class="pln">

    </span><span class="kwd">return</span><span class="pln"> </span><span class="str">"ok"</span><span class="pun">;</span><span class="pln">
</span><span class="pun">}</span></code></pre>
<p>Nosso método atende ao <em>path</em> <code>/produtos</code> e se chama <code>gravar</code>. Este irá gravar os produtos em um banco de dados posteriormente. Ele recebe os dados do produto e imprime no terminal, por fim, retorna "ok" para indicar que tudo ocorreu bem.</p>
<p>Faça alguns testes! Teremos um erro 404 indicando que a <em>view</em> <code>ok</code> não foi encontrada, mas não deixe de verificar se os dados do formulário foram impressos no console. Funciona! O SpringMVC sozinho verifica a assinatura do nosso método e faz um <em>bind</em> dos parâmetros do método com os <em>names</em> do formulário.</p>
<p>Nossa aplicação já funciona, mas antes de continuarmos, vamos melhorar um ponto e corrigir outro.</p>
<p>Primeiro ponto, imagine que o formulário de produtos terá 30 campos. A assinatura do nosso método ficará enorme! Vamos mudar isso, o método <code>gravar</code> requer um <strong>produto</strong>. Vamos criar um Produto então.</p>
<p>Crie uma classe chamada <code>Produto</code> com os mesmos atributos do formulário e os defina como <code>private</code>. Use os atalhos do Eclipse e gere também os <em>getters and setters</em>. Gere também o <code>toString</code> na classe <code>Produto</code> para que deixemos de imprimir aquela mensagem padrão estranha e possamos imprimir o objeto diretamente de forma amigável.A classe <code>Produto</code> deve estar no pacote <code>br.com.casadocodigo.loja.models</code>.Esta classe representa uma entidade no nosso sistema.</p>
<pre class="prettyprint"><code><span class="kwd">package</span><span class="pln"> br</span><span class="pun">.</span><span class="pln">com</span><span class="pun">.</span><span class="pln">casadocodigo</span><span class="pun">.</span><span class="pln">loja</span><span class="pun">.</span><span class="pln">models</span><span class="pun">;</span><span class="pln">

</span><span class="kwd">public</span><span class="pln"> </span><span class="kwd">class</span><span class="pln"> </span><span class="typ">Produto</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    </span><span class="kwd">private</span><span class="pln"> </span><span class="typ">String</span><span class="pln"> titulo</span><span class="pun">;</span><span class="pln">
    </span><span class="kwd">private</span><span class="pln"> </span><span class="typ">String</span><span class="pln"> descricao</span><span class="pun">;</span><span class="pln">
    </span><span class="kwd">private</span><span class="pln"> </span><span class="kwd">int</span><span class="pln"> paginas</span><span class="pun">;</span><span class="pln">


    </span><span class="kwd">public</span><span class="pln"> </span><span class="typ">String</span><span class="pln"> getTitulo</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
        </span><span class="kwd">return</span><span class="pln"> titulo</span><span class="pun">;</span><span class="pln">
    </span><span class="pun">}</span><span class="pln">
    </span><span class="kwd">public</span><span class="pln"> </span><span class="kwd">void</span><span class="pln"> setTitulo</span><span class="pun">(</span><span class="typ">String</span><span class="pln"> titulo</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
        </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">titulo </span><span class="pun">=</span><span class="pln"> titulo</span><span class="pun">;</span><span class="pln">
    </span><span class="pun">}</span><span class="pln">
    </span><span class="kwd">public</span><span class="pln"> </span><span class="typ">String</span><span class="pln"> getDescricao</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
        </span><span class="kwd">return</span><span class="pln"> descricao</span><span class="pun">;</span><span class="pln">
    </span><span class="pun">}</span><span class="pln">
    </span><span class="kwd">public</span><span class="pln"> </span><span class="kwd">void</span><span class="pln"> setDescricao</span><span class="pun">(</span><span class="typ">String</span><span class="pln"> descricao</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
        </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">descricao </span><span class="pun">=</span><span class="pln"> descricao</span><span class="pun">;</span><span class="pln">
    </span><span class="pun">}</span><span class="pln">
    </span><span class="kwd">public</span><span class="pln"> </span><span class="kwd">int</span><span class="pln"> getPaginas</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
        </span><span class="kwd">return</span><span class="pln"> paginas</span><span class="pun">;</span><span class="pln">
    </span><span class="pun">}</span><span class="pln">
    </span><span class="kwd">public</span><span class="pln"> </span><span class="kwd">void</span><span class="pln"> setPaginas</span><span class="pun">(</span><span class="kwd">int</span><span class="pln"> paginas</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
        </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">paginas </span><span class="pun">=</span><span class="pln"> paginas</span><span class="pun">;</span><span class="pln">
    </span><span class="pun">}</span><span class="pln">

    </span><span class="lit">@Override</span><span class="pln">
    </span><span class="kwd">public</span><span class="pln"> </span><span class="typ">String</span><span class="pln"> toString</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
        </span><span class="kwd">return</span><span class="pln"> </span><span class="str">"Produto [titulo="</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> titulo </span><span class="pun">+</span><span class="pln"> </span><span class="str">", descricao="</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> descricao </span><span class="pun">+</span><span class="pln"> </span><span class="str">", paginas="</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> paginas </span><span class="pun">+</span><span class="pln"> </span><span class="str">"]"</span><span class="pun">;</span><span class="pln">
    </span><span class="pun">}</span><span class="pln">

</span><span class="pun">}</span></code></pre>
<p>Desta forma isolamos todo o comportamento e dados dos produtos em uma classe. Podemos então em nosso <strong>Controller</strong> receber um <strong>Produto</strong> em vez de seus dados separadamente.O SpringMVC fará o <code>bind</code> dos <em>names</em> em nosso formulário com os atributos do <strong>Produto</strong> de agora em diante. Sendo assim, vamos modificar o <code>ProdutosController</code> para recebermos um objeto <code>produto</code> agora.</p>
<p>O método <code>gravar</code> deve ficar assim:</p>
<pre class="prettyprint"><code><span class="lit">@RequestMapping</span><span class="pun">(</span><span class="str">"/produtos"</span><span class="pun">)</span><span class="pln">
</span><span class="kwd">public</span><span class="pln"> </span><span class="typ">String</span><span class="pln"> gravar</span><span class="pun">(</span><span class="typ">Produto</span><span class="pln"> produto</span><span class="pun">){</span><span class="pln">
    </span><span class="typ">System</span><span class="pun">.</span><span class="kwd">out</span><span class="pun">.</span><span class="pln">println</span><span class="pun">(</span><span class="pln">produto</span><span class="pun">);</span><span class="pln">
    </span><span class="kwd">return</span><span class="pln"> </span><span class="str">"/produtos/ok"</span><span class="pun">;</span><span class="pln">
</span><span class="pun">}</span></code></pre>
<p>Agora recebemos um objeto do tipo produto, imprimimos o produto no console e retornamos a <em>view</em> "ok", que deve estar dentro da pasta produtos (perceba que mudamos também o caminho de retorno da view de <code>/ok</code> em <code>/views/</code> para <code>/produtos/ok</code> em <code>/views/produtos/ok</code>). Crie a <em>view</em> <code>ok.jsp</code> na pasta <code>WEB-INF/views/produtos</code> com uma mensagem de sucesso. Algo como:</p>
<pre class="prettyprint"><code><span class="pun">&lt;%@</span><span class="pln"> page language</span><span class="pun">=</span><span class="str">"java"</span><span class="pln"> contentType</span><span class="pun">=</span><span class="str">"text/html; charset=UTF-8"</span><span class="pln">
    pageEncoding</span><span class="pun">=</span><span class="str">"UTF-8"</span><span class="pln">%&gt;
</span><span class="dec">&lt;!DOCTYPE html&gt;</span><span class="pln">
        </span><span class="tag">&lt;html&gt;</span><span class="pln">
</span><span class="tag">&lt;head&gt;</span><span class="pln">
</span><span class="tag">&lt;meta</span><span class="pln"> </span><span class="atn">charset</span><span class="pun">=</span><span class="atv">"UTF-8"</span><span class="tag">&gt;</span><span class="pln">
</span><span class="tag">&lt;title&gt;</span><span class="pln">Livros de Java, Android, iPhone, Ruby, PHP e muito mais - Casa do Código</span><span class="tag">&lt;/title&gt;</span><span class="pln">
</span><span class="tag">&lt;/head&gt;</span><span class="pln">
</span><span class="tag">&lt;body&gt;</span><span class="pln">
 </span><span class="tag">&lt;h1&gt;</span><span class="pln">Produto cadastrado com sucesso!</span><span class="tag">&lt;/h1&gt;</span><span class="pln">
</span><span class="tag">&lt;/body&gt;</span><span class="pln">
</span><span class="tag">&lt;/html&gt;</span></code></pre>
<p>Agora, se acessarmos nosso formulário, preenchermos os campos e tentarmos cadastrar um produto (um livro), teremos a mensagem de sucesso e os dados do nosso livro serão mostrados no console. Faça o teste!  </p>
<p><img src="./Spring MVC I_ Aula 2 - Atividade 4 Cadastro de produtos _ Alura - Cursos online de tecnologia_files/springmvc_i_webaapp_2_1_produto_cadastrado_com_sucesso.png" alt="produto cadastrado com sucesso"></p>
<h3>Salvando produtos no banco de dados</h3>
<p>Nossa aplicação ainda não salva os produtos no banco de dados. Para essa tarefa usaremos a <strong>JPA</strong> (<em>Java Persistence API</em>) e o <strong>Hibernate</strong>, que ainda não estão configurados em nosso projeto. Vamos configura-los agora.</p>
<p>No <code>pom.xml</code> vamos declarar algumas novas dependências. Entre elas estão a <strong>JPA</strong>, o <strong>Hibernate</strong>, O <strong>SpringORM</strong> e o <strong>Driver MySQL</strong>. No final do <code>pom.xml</code> antes do fechamento da tag <code>&lt;dependencies&gt;</code> cole as seguintes dependencias:</p>
<pre class="prettyprint"><code><span class="tag">&lt;dependency&gt;</span><span class="pln">
    </span><span class="tag">&lt;groupId&gt;</span><span class="pln">org.hibernate</span><span class="tag">&lt;/groupId&gt;</span><span class="pln">
    </span><span class="tag">&lt;artifactId&gt;</span><span class="pln">hibernate-entitymanager</span><span class="tag">&lt;/artifactId&gt;</span><span class="pln">
    </span><span class="tag">&lt;version&gt;</span><span class="pln">4.3.0.Final</span><span class="tag">&lt;/version&gt;</span><span class="pln">
</span><span class="tag">&lt;/dependency&gt;</span><span class="pln">
</span><span class="tag">&lt;dependency&gt;</span><span class="pln">
    </span><span class="tag">&lt;groupId&gt;</span><span class="pln">org.hibernate</span><span class="tag">&lt;/groupId&gt;</span><span class="pln">
    </span><span class="tag">&lt;artifactId&gt;</span><span class="pln">hibernate-core</span><span class="tag">&lt;/artifactId&gt;</span><span class="pln">
    </span><span class="tag">&lt;version&gt;</span><span class="pln">4.3.0.Final</span><span class="tag">&lt;/version&gt;</span><span class="pln">
</span><span class="tag">&lt;/dependency&gt;</span><span class="pln">
</span><span class="tag">&lt;dependency&gt;</span><span class="pln">
    </span><span class="tag">&lt;groupId&gt;</span><span class="pln">org.hibernate.javax.persistence</span><span class="tag">&lt;/groupId&gt;</span><span class="pln">
    </span><span class="tag">&lt;artifactId&gt;</span><span class="pln">hibernate-jpa-2.1-api</span><span class="tag">&lt;/artifactId&gt;</span><span class="pln">
    </span><span class="tag">&lt;version&gt;</span><span class="pln">1.0.0.Final</span><span class="tag">&lt;/version&gt;</span><span class="pln">
</span><span class="tag">&lt;/dependency&gt;</span><span class="pln">
</span><span class="tag">&lt;dependency&gt;</span><span class="pln">
    </span><span class="tag">&lt;groupId&gt;</span><span class="pln">org.springframework</span><span class="tag">&lt;/groupId&gt;</span><span class="pln">
    </span><span class="tag">&lt;artifactId&gt;</span><span class="pln">spring-orm</span><span class="tag">&lt;/artifactId&gt;</span><span class="pln">
    </span><span class="tag">&lt;version&gt;</span><span class="pln">4.1.0.RELEASE</span><span class="tag">&lt;/version&gt;</span><span class="pln">
</span><span class="tag">&lt;/dependency&gt;</span><span class="pln">
</span><span class="tag">&lt;dependency&gt;</span><span class="pln">
    </span><span class="tag">&lt;groupId&gt;</span><span class="pln">mysql</span><span class="tag">&lt;/groupId&gt;</span><span class="pln">
    </span><span class="tag">&lt;artifactId&gt;</span><span class="pln">mysql-connector-java</span><span class="tag">&lt;/artifactId&gt;</span><span class="pln">
    </span><span class="tag">&lt;version&gt;</span><span class="pln">5.1.15</span><span class="tag">&lt;/version&gt;</span><span class="pln">
</span><span class="tag">&lt;/dependency&gt;</span></code></pre>
<p>Salve o <code>pom.xml</code> e aguarde um momento, pois o Maven irá baixar e deixar disponivel em nosso projeto as bibliotecas que acabamos de adicionar como dependências.</p>
<p>Com as dependências configuradas, podemos começar a criar a lógica responsável por salvar os produtos. O primeiro passo é definir que o produto é uma entidade. Fazemos isso marcando a classe <code>Produto</code> com a anotação <code>@Entity</code>.</p>
<pre class="prettyprint"><code><span class="kwd">import</span><span class="pln"> javax</span><span class="pun">.</span><span class="pln">persistence</span><span class="pun">.</span><span class="typ">Entity</span><span class="pun">;</span><span class="pln">

</span><span class="lit">@Entity</span><span class="pln">
</span><span class="kwd">public</span><span class="pln"> </span><span class="kwd">class</span><span class="pln"> </span><span class="typ">Produto</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    </span><span class="pun">[...]</span><span class="pln">
</span><span class="pun">}</span></code></pre>
<p><strong>Atenção:</strong> O importe deve ser do pacote: <code>javax.persistence.Entity</code>.</p>
<p>Com este passo a classe <code>Produto</code> já representa uma entidade em nosso sistema. Fazer isso é apenas o primeiro passo, ainda não temos a lógica responsável por efetivamente salvar o produto no banco de dados.</p>
<p>Vamos então criar uma classe de acesso a dados responsável por manipular os dados dos produtos. Criaremos então a classe ProdutoDAO (DAO: Data Access Object ou Objeto de Acesso a Dados). Inicialmente, criamos nesta classe o método <code>gravar</code> que receberá um objeto <code>produto</code> e o salvará no banco de dados. Está classe deve ficar no pacote: <code>br.com.casadocodigo.loja.daos</code></p>
<pre class="prettyprint"><code><span class="kwd">package</span><span class="pln"> br</span><span class="pun">.</span><span class="pln">com</span><span class="pun">.</span><span class="pln">casadocodigo</span><span class="pun">.</span><span class="pln">loja</span><span class="pun">.</span><span class="pln">daos</span><span class="pun">;</span><span class="pln">
</span><span class="kwd">import</span><span class="pln"> br</span><span class="pun">.</span><span class="pln">com</span><span class="pun">.</span><span class="pln">casadocodigo</span><span class="pun">.</span><span class="pln">loja</span><span class="pun">.</span><span class="pln">models</span><span class="pun">.</span><span class="typ">Produto</span><span class="pun">;</span><span class="pln">

</span><span class="kwd">public</span><span class="pln"> </span><span class="kwd">class</span><span class="pln"> </span><span class="typ">ProdutoDAO</span><span class="pln"> </span><span class="pun">{</span><span class="pln">

    </span><span class="kwd">public</span><span class="pln"> </span><span class="kwd">void</span><span class="pln"> gravar</span><span class="pun">(</span><span class="typ">Produto</span><span class="pln"> produto</span><span class="pun">){</span><span class="pln">

    </span><span class="pun">}</span><span class="pln">
</span><span class="pun">}</span></code></pre>
<p>Para que o <code>ProdutoDAO</code> realize a <strong>persistencia</strong> ou seja, para que ele salve o <strong>produto</strong> no banco de dados. É necessário que ele tenha um gerenciador de entidades, um <code>EntityManager</code>. Este <code>EntityManager</code> é fornecido pelo <code>Spring</code>. Assim podemos usar o <code>EntityManager</code> para persistir os produto no banco de dados. No código teremos algo como:</p>
<pre class="prettyprint"><code><span class="kwd">import</span><span class="pln"> javax</span><span class="pun">.</span><span class="pln">persistence</span><span class="pun">.</span><span class="typ">EntityManager</span><span class="pun">;</span><span class="pln">
</span><span class="kwd">import</span><span class="pln"> javax</span><span class="pun">.</span><span class="pln">persistence</span><span class="pun">.</span><span class="typ">PersistenceContext</span><span class="pun">;</span><span class="pln">

</span><span class="kwd">import</span><span class="pln"> br</span><span class="pun">.</span><span class="pln">com</span><span class="pun">.</span><span class="pln">casadocodigo</span><span class="pun">.</span><span class="pln">loja</span><span class="pun">.</span><span class="pln">models</span><span class="pun">.</span><span class="typ">Produto</span><span class="pun">;</span><span class="pln">

</span><span class="kwd">public</span><span class="pln"> </span><span class="kwd">class</span><span class="pln"> </span><span class="typ">ProdutoDAO</span><span class="pln"> </span><span class="pun">{</span><span class="pln">

    </span><span class="lit">@PersistenceContext</span><span class="pln">
    </span><span class="kwd">private</span><span class="pln"> </span><span class="typ">EntityManager</span><span class="pln"> manager</span><span class="pun">;</span><span class="pln">

    </span><span class="kwd">public</span><span class="pln"> </span><span class="kwd">void</span><span class="pln"> gravar</span><span class="pun">(</span><span class="typ">Produto</span><span class="pln"> produto</span><span class="pun">){</span><span class="pln">
        manager</span><span class="pun">.</span><span class="pln">persist</span><span class="pun">(</span><span class="pln">produto</span><span class="pun">);</span><span class="pln">
    </span><span class="pun">}</span><span class="pln">

</span><span class="pun">}</span></code></pre>
<p>Temos quase tudo pronto neste ponto. Precisamos fazer com que agora, quando o <strong>Controller</strong> receba o <code>produto</code>, ele use o <code>ProdutoDAO</code> para salvar o produto no banco de dados. Estas modificações serão feitas no <code>ProdutosController</code>.</p>
<pre class="prettyprint"><code><span class="lit">@Controller</span><span class="pln">
</span><span class="kwd">public</span><span class="pln"> </span><span class="kwd">class</span><span class="pln"> </span><span class="typ">ProdutosController</span><span class="pln"> </span><span class="pun">{</span><span class="pln">

    </span><span class="lit">@Autowired</span><span class="pln">
    </span><span class="kwd">private</span><span class="pln"> </span><span class="typ">ProdutoDAO</span><span class="pln"> produtoDao</span><span class="pun">;</span><span class="pln">

    </span><span class="lit">@RequestMapping</span><span class="pun">(</span><span class="str">"/produtos"</span><span class="pun">)</span><span class="pln">
    </span><span class="kwd">public</span><span class="pln"> </span><span class="typ">String</span><span class="pln"> gravar</span><span class="pun">(</span><span class="typ">Produto</span><span class="pln"> produto</span><span class="pun">){</span><span class="pln">
        </span><span class="typ">System</span><span class="pun">.</span><span class="kwd">out</span><span class="pun">.</span><span class="pln">println</span><span class="pun">(</span><span class="pln">produto</span><span class="pun">);</span><span class="pln">
        produtoDao</span><span class="pun">.</span><span class="pln">gravar</span><span class="pun">(</span><span class="pln">produto</span><span class="pun">);</span><span class="pln">
        </span><span class="kwd">return</span><span class="pln"> </span><span class="str">"/produtos/ok"</span><span class="pun">;</span><span class="pln">
    </span><span class="pun">}</span><span class="pln">
    </span><span class="pun">[...]</span><span class="pln">
</span><span class="pun">}</span></code></pre>
<p>A anotação <code>@Autowired</code> serve para que nós não nos preocupemos em criar manualmente o <code>ProdutoDAO</code> no <strong>Controller</strong>. O <strong>Spring</strong> fará isso automaticamente. Mas para isso, o <strong>Spring</strong> precisa "conhecer" o <code>ProdutoDAO</code>. Em outras palavras dizemos que devemos definir que o <code>ProdutoDAO</code> será gerenciado pelo <strong>Spring</strong>. Para isso devemos marcar o <code>ProdutoDAO</code> com a anotação <code>@Repository</code>.</p>
<pre class="prettyprint"><code><span class="lit">@Repository</span><span class="pln">
</span><span class="kwd">public</span><span class="pln"> </span><span class="kwd">class</span><span class="pln"> </span><span class="typ">ProdutoDAO</span><span class="pln"> </span><span class="pun">{</span><span class="pln">

    </span><span class="lit">@PersistenceContext</span><span class="pln">
    </span><span class="kwd">private</span><span class="pln"> </span><span class="typ">EntityManager</span><span class="pln"> manager</span><span class="pun">;</span><span class="pln">

    </span><span class="kwd">public</span><span class="pln"> </span><span class="kwd">void</span><span class="pln"> gravar</span><span class="pun">(</span><span class="typ">Produto</span><span class="pln"> produto</span><span class="pun">){</span><span class="pln">
        manager</span><span class="pun">.</span><span class="pln">persist</span><span class="pun">(</span><span class="pln">produto</span><span class="pun">);</span><span class="pln">
    </span><span class="pun">}</span><span class="pln">

</span><span class="pun">}</span></code></pre>
<p>Se tentarmos inicializar o projeto neste momento, teremos dois problemas. O primeiro deles será que, apesar de termos aparentemente configurado todo o necessário para persistir os produtos no banco de dados,  <strong>Spring</strong> não conseguirá gerenciar nossas classes, nem mesmo encontrá-las.</p>
<p>Esta configuração está presente em nossa classe <code>AppWebConfiguration</code>, na qual configuramos para o <strong>Spring</strong> encontrar nossos <em>controllers</em>. Nós vamos configurar para que encontre nossos <strong>daos</strong> também. A anotação <code>@ComponentScan</code> deve ficar assim:</p>
<pre class="prettyprint"><code><span class="typ">ComponentScan</span><span class="pun">(</span><span class="pln">basePackageClasses</span><span class="pun">={</span><span class="typ">HomeController</span><span class="pun">.</span><span class="kwd">class</span><span class="pun">,</span><span class="pln"> </span><span class="typ">ProdutoDAO</span><span class="pun">.</span><span class="kwd">class</span><span class="pun">})</span></code></pre>
<p>Note que em momento algum estamos fornecendo para o <strong>Spring</strong> qual é o banco, o usuário ou a senha do banco de dados. Faremos essas configurações em uma nova classe. Crie uma classe no pacote <code>br.com.casadocodigo.conf</code> chamada <code>JPAConfiguration</code>.</p>
<p>Nesta nova classe, criaremos o método que será gerenciado pelo <strong>Spring</strong> e criará o <code>EntityManager</code> usado em nosso <strong>DAO</strong>. Ela também terá as configurações de banco de dados e algumas outras propriedades importantes. Vejamos o código:</p>
<pre class="prettyprint"><code><span class="kwd">package</span><span class="pln"> br</span><span class="pun">.</span><span class="pln">com</span><span class="pun">.</span><span class="pln">casadocodigo</span><span class="pun">.</span><span class="pln">loja</span><span class="pun">.</span><span class="pln">conf</span><span class="pun">;</span><span class="pln">

</span><span class="kwd">import</span><span class="pln"> java</span><span class="pun">.</span><span class="pln">util</span><span class="pun">.</span><span class="typ">Properties</span><span class="pun">;</span><span class="pln">

</span><span class="kwd">import</span><span class="pln"> org</span><span class="pun">.</span><span class="pln">springframework</span><span class="pun">.</span><span class="pln">context</span><span class="pun">.</span><span class="pln">annotation</span><span class="pun">.</span><span class="typ">Bean</span><span class="pun">;</span><span class="pln">
</span><span class="kwd">import</span><span class="pln"> org</span><span class="pun">.</span><span class="pln">springframework</span><span class="pun">.</span><span class="pln">jdbc</span><span class="pun">.</span><span class="pln">datasource</span><span class="pun">.</span><span class="typ">DriverManagerDataSource</span><span class="pun">;</span><span class="pln">
</span><span class="kwd">import</span><span class="pln"> org</span><span class="pun">.</span><span class="pln">springframework</span><span class="pun">.</span><span class="pln">orm</span><span class="pun">.</span><span class="pln">jpa</span><span class="pun">.</span><span class="typ">JpaVendorAdapter</span><span class="pun">;</span><span class="pln">
</span><span class="kwd">import</span><span class="pln"> org</span><span class="pun">.</span><span class="pln">springframework</span><span class="pun">.</span><span class="pln">orm</span><span class="pun">.</span><span class="pln">jpa</span><span class="pun">.</span><span class="typ">LocalContainerEntityManagerFactoryBean</span><span class="pun">;</span><span class="pln">
</span><span class="kwd">import</span><span class="pln"> org</span><span class="pun">.</span><span class="pln">springframework</span><span class="pun">.</span><span class="pln">orm</span><span class="pun">.</span><span class="pln">jpa</span><span class="pun">.</span><span class="pln">vendor</span><span class="pun">.</span><span class="typ">HibernateJpaVendorAdapter</span><span class="pun">;</span><span class="pln">

</span><span class="kwd">public</span><span class="pln"> </span><span class="kwd">class</span><span class="pln"> </span><span class="typ">JPAConfiguration</span><span class="pln"> </span><span class="pun">{</span><span class="pln">

    </span><span class="lit">@Bean</span><span class="pln">
    </span><span class="kwd">public</span><span class="pln"> </span><span class="typ">LocalContainerEntityManagerFactoryBean</span><span class="pln"> entityManagerFactory</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
        </span><span class="typ">LocalContainerEntityManagerFactoryBean</span><span class="pln"> factoryBean </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> </span><span class="typ">LocalContainerEntityManagerFactoryBean</span><span class="pun">();</span><span class="pln">
        </span><span class="typ">JpaVendorAdapter</span><span class="pln"> vendorAdapter </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> </span><span class="typ">HibernateJpaVendorAdapter</span><span class="pun">();</span><span class="pln">

        factoryBean</span><span class="pun">.</span><span class="pln">setJpaVendorAdapter</span><span class="pun">(</span><span class="pln">vendorAdapter</span><span class="pun">);</span><span class="pln">

        </span><span class="typ">DriverManagerDataSource</span><span class="pln"> dataSource </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> </span><span class="typ">DriverManagerDataSource</span><span class="pun">();</span><span class="pln">
        dataSource</span><span class="pun">.</span><span class="pln">setUsername</span><span class="pun">(</span><span class="str">"root"</span><span class="pun">);</span><span class="pln">
        dataSource</span><span class="pun">.</span><span class="pln">setPassword</span><span class="pun">(</span><span class="str">""</span><span class="pun">);</span><span class="pln">
        dataSource</span><span class="pun">.</span><span class="pln">setUrl</span><span class="pun">(</span><span class="str">"jdbc:mysql://localhost:3306/casadocodigo"</span><span class="pun">);</span><span class="pln">
        dataSource</span><span class="pun">.</span><span class="pln">setDriverClassName</span><span class="pun">(</span><span class="str">"com.mysql.jdbc.Driver"</span><span class="pun">);</span><span class="pln">

        factoryBean</span><span class="pun">.</span><span class="pln">setDataSource</span><span class="pun">(</span><span class="pln">dataSource</span><span class="pun">);</span><span class="pln">

        </span><span class="typ">Properties</span><span class="pln"> props </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> </span><span class="typ">Properties</span><span class="pun">();</span><span class="pln">
        props</span><span class="pun">.</span><span class="pln">setProperty</span><span class="pun">(</span><span class="str">"hibernate.dialect"</span><span class="pun">,</span><span class="pln"> </span><span class="str">"org.hibernate.dialect.MySQL5Dialect"</span><span class="pun">);</span><span class="pln">
        props</span><span class="pun">.</span><span class="pln">setProperty</span><span class="pun">(</span><span class="str">"hibernate.show_sql"</span><span class="pun">,</span><span class="pln"> </span><span class="str">"true"</span><span class="pun">);</span><span class="pln">
        props</span><span class="pun">.</span><span class="pln">setProperty</span><span class="pun">(</span><span class="str">"hibernate.hbm2ddl.auto"</span><span class="pun">,</span><span class="pln"> </span><span class="str">"update"</span><span class="pun">);</span><span class="pln">

        factoryBean</span><span class="pun">.</span><span class="pln">setJpaProperties</span><span class="pun">(</span><span class="pln">props</span><span class="pun">);</span><span class="pln">

        factoryBean</span><span class="pun">.</span><span class="pln">setPackagesToScan</span><span class="pun">(</span><span class="str">"br.com.casadocodigo.loja.models"</span><span class="pun">);</span><span class="pln">

        </span><span class="kwd">return</span><span class="pln"> factoryBean</span><span class="pun">;</span><span class="pln">
    </span><span class="pun">}</span><span class="pln">
</span><span class="pun">}</span></code></pre>
<p>Nesta classe estamos criando um único médoto, que será usado pelo <strong>Spring</strong> para gerar o <strong>EntityManager</strong>. Este precisa de um <strong>adapter</strong> e estamos passando um que o <strong>Hibernate</strong> disponibiliza.  </p>
<p>Criamos também um <strong>DataSource</strong> que contém as configurações de banco de dados. Criamos um objeto do tipo <strong>Properties</strong> para podermos setar algumas configurações, como por exemplo o dialeto usado para a comunicação com o banco de dados. Setamos também onde o <strong>EntityManager</strong> encontrará nossos <strong>Models</strong>.
Feito isso retornamos nossas configurações para o <strong>Spring</strong> poder utiliza-las.</p>
<p>Nosso próximo passo é disponibilizar essa configuração para o <strong>Spring</strong>. Faremos isso na nossa class: <code>ServletSpringMVC</code>. No Método: <code>getServletConfigClasses</code>.</p>
<pre class="prettyprint"><code><span class="lit">@Override</span><span class="pln">
</span><span class="kwd">protected</span><span class="pln"> </span><span class="typ">Class</span><span class="pun">&lt;?&gt;[]</span><span class="pln"> getServletConfigClasses</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    </span><span class="kwd">return</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> </span><span class="typ">Class</span><span class="pun">[]</span><span class="pln"> </span><span class="pun">{</span><span class="typ">AppWebConfiguration</span><span class="pun">.</span><span class="kwd">class</span><span class="pun">,</span><span class="pln"> </span><span class="typ">JPAConfiguration</span><span class="pun">.</span><span class="kwd">class</span><span class="pun">};</span><span class="pln">
</span><span class="pun">}</span></code></pre>
<p>Mais um passo é necessário para podermos finalizar esta etapa de configuração. Como as nossas entidades serão gerenciadas pelo <strong>Framework</strong>, precisaremos setar mais um atributos, que essencialmente é utilizado sempre que usamos o banco de dados. O <strong>id</strong>. Então em nossa classe <code>Produto</code>, definiremos o <code>id</code>.</p>
<pre class="prettyprint"><code><span class="lit">@Entity</span><span class="pln">
</span><span class="kwd">public</span><span class="pln"> </span><span class="kwd">class</span><span class="pln"> </span><span class="typ">Produto</span><span class="pln"> </span><span class="pun">{</span><span class="pln">

    </span><span class="lit">@Id</span><span class="pln"> </span><span class="lit">@GeneratedValue</span><span class="pun">(</span><span class="pln">strategy</span><span class="pun">=</span><span class="typ">GenerationType</span><span class="pun">.</span><span class="pln">IDENTITY</span><span class="pun">)</span><span class="pln">
    </span><span class="kwd">private</span><span class="pln"> </span><span class="kwd">int</span><span class="pln"> id</span><span class="pun">;</span><span class="pln">

    </span><span class="pun">[...]</span><span class="pln">
</span><span class="pun">}</span></code></pre>
<p>Basicamente, só precisaríamos do <code>@Id</code>. Mas para que não precisemos gerenciá-lo manualmente, usamos a segunda anotação (<code>@GeneratedValue(strategy=GenerationType.IDENTITY)</code>) para que o próprio <em>framework</em> o gere e o gerencie.
Feito isso podemos acessar a página de cadastro de produtos e tentarmos cadastrar um produto. A resposta que temos logo após tentar cadastrar um produto será essa:</p>
<pre class="prettyprint"><code><span class="pln">HTTP </span><span class="typ">Status</span><span class="pln"> </span><span class="lit">500</span><span class="pln"> </span><span class="pun">-</span><span class="pln"> </span><span class="typ">Request</span><span class="pln"> processing failed</span><span class="pun">;</span><span class="pln"> nested exception </span><span class="kwd">is</span><span class="pln"> javax</span><span class="pun">.</span><span class="pln">persistence</span><span class="pun">.</span><span class="typ">TransactionRequiredException</span><span class="pun">:</span><span class="pln"> </span><span class="typ">No</span><span class="pln"> transactional </span><span class="typ">EntityManager</span><span class="pln"> available</span></code></pre>
<p>Como assim? Aparentemente estava tudo funcionando. Note que o erro é bem claro: <code>No transactional EntityManager available</code> do tipo <code>TransactionRequiredException</code>. Ou seja, nossa operação com o banco de dados deve ser gerenciada com uma transação.</p>
<p>Façamos então essas últimas configurações para conseguirmos cadastrar nosso produtos no banco de dados. Primeiro precisaremos de um <code>TransactionManager</code> que conheça nosso <code>EntityManager</code> para que assim ele possa gerenciar as transações de nossas entidades.Na classe <code>JPAConfiguration</code> adicionaremos mais um método que criará o <code>TransactionManager</code>.</p>
<pre class="prettyprint"><code><span class="lit">@EnableTransactionManagement</span><span class="pln">
</span><span class="kwd">public</span><span class="pln"> </span><span class="kwd">class</span><span class="pln"> </span><span class="typ">JPAConfiguration</span><span class="pln"> </span><span class="pun">{</span><span class="pln">

    </span><span class="pun">[...]</span><span class="pln">

    </span><span class="lit">@Bean</span><span class="pln">
    </span><span class="kwd">public</span><span class="pln"> </span><span class="typ">JpaTransactionManager</span><span class="pln"> transactionManager</span><span class="pun">(</span><span class="typ">EntityManagerFactory</span><span class="pln"> emf</span><span class="pun">){</span><span class="pln">
        </span><span class="kwd">return</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> </span><span class="typ">JpaTransactionManager</span><span class="pun">(</span><span class="pln">emf</span><span class="pun">);</span><span class="pln">
    </span><span class="pun">}</span><span class="pln">
</span><span class="pun">}</span></code></pre>
<p>Note que adicionamos a anotação <code>@EnableTransactionManagement</code>. Assim o <strong>Spring</strong> ativa o gerenciamento de transações e já reconhece o <code>TransactionManager</code>. Agora precisamos definir que o nosso <code>ProdutoDAO</code> é uma classe <em>Transancional</em> e fazemos isso atravez da anotação <code>@Transactional</code> do pacote org.springframework.transaction.annotation.Transactional.</p>
<pre class="prettyprint"><code><span class="lit">@Repository</span><span class="pln">
</span><span class="lit">@Transactional</span><span class="pln">
</span><span class="kwd">public</span><span class="pln"> </span><span class="kwd">class</span><span class="pln"> </span><span class="typ">ProdutoDAO</span><span class="pln"> </span><span class="pun">{</span><span class="pln">
    </span><span class="pun">[...]</span><span class="pln">
</span><span class="pun">}</span></code></pre>
<p>É isso! Não precisamos configurar mais nada por hora. Desta forma já conseguiremos cadastrar nossos produtos sem nenhum problema. Não se esqueça de verificar as configurações do seu banco de dados e de criar o banco <code>casadocodigo</code> pois o <strong>Hibernate</strong> não cria o banco, mas as tabelas e campos sim.</p>
<p>Experimente cadastrar alguns livros da Casa do Código e verificar se estão realmente no banco de dados.
Caso tenha problemas ou dúvidas, publique no forúm, você sempre encontrará alguém para ajudar!</p>

		</div>
	</div>
</section>
	
	
	
	
	
	
	
	
	
	
	
	

			
				



<section class="task-actions">
	<div class="container">
		





<a href="https://cursos.alura.com.br/forum/curso-spring-mvc-1-criando-aplicacoes-web/exercicio-cadastro-de-produtos/11396/novo" class=" task-actions-button task-actions-button-forum" data-amplitude-onsubmit="{&quot;name&quot;:&quot;help-needed&quot;,&quot;course-code&quot;:&quot;spring-mvc-1-criando-aplicacoes-web&quot;,&quot;task-id&quot;:&quot;11396&quot;,&quot;task-kind&quot;:&quot;Explicação&quot;}">Tirar Dúvida</a><!--
		 --><a href="https://cursos.alura.com.br/course/spring-mvc-1-criando-aplicacoes-web/task/11396/next" class="task-actions-button task-body-actions-button task-actions-button-next">Próxima Atividade</a>
	</div>
</section>
			
		</main>
	</section>
	











<aside class="task-menu" style="position: fixed; transform: translateY(-923.156px);">
	<section class="task-menu-header">
		<button title="Abrir/Fechar menu" aria-label="Abrir/Fechar menu" type="button" class="openMenu-button task-menu-button "></button>
		<div class="task-menu-header-info">
			<a class="task-menu-header-info-title" href="https://cursos.alura.com.br/course/spring-mvc-1-criando-aplicacoes-web" title="Ir para página do curso">
				<img src="./Spring MVC I_ Aula 2 - Atividade 4 Cadastro de produtos _ Alura - Cursos online de tecnologia_files/spring-mvc-1-criando-aplicacoes-web.svg" alt="ícone Spring MVC I: Criando aplicações web" class="task-menu-header-info-title-icon " width="37.5px" height="37.5px">
				<h2 class="task-menu-header-info-title-text">Spring MVC I: Criando aplicações web</h2>
			</a>
			<div class="task-menu-header-info-progress">
				
				<span class="task-menu-header-info-progress-percentage ">7%</span>
				<span class="task-menu-header-info-progress-bar" style="background-image: linear-gradient(to right, #9de482, #9de482 7%, transparent 7%);"></span>
			</div>
		</div>
	</section>
	
	<section class="task-menu-section">
		<div class="task-menu-section-title">
			<span class="task-menu-section-title-number ">Aula<strong>02</strong>
				<span>de 14</span></span>
			<h3 class="task-menu-section-title-text">
				Cadastro de produtos
			</h3>
		</div>
	</section>
	<nav class="task-menu-nav">
		<h2 class="task-menu-nav-title">
			Atividades
			<span>4 de 17</span>
		</h2>
		<ul class="task-menu-nav-list">
			
				<li class="task-menu-nav-item ">
					<a href="https://cursos.alura.com.br/course/spring-mvc-1-criando-aplicacoes-web/task/11393" class="task-menu-nav-item-link task-menu-nav-item-link-VIDEO">
					<svg class="task-menu-nav-item-svg task-menu-nav-item-svg--done" aria-label="Atividade de Vídeo concluída">
						<use xlink:href="/images/gnarus/classPage/icon-menu-icons.svg#VIDEO"></use>
					</svg>
					<span class="task-menu-nav-item-number">01</span>
					<span class="task-menu-nav-item-text">
						<span class="task-menu-nav-item-title" title="Vídeo 1">
							Vídeo 1
						</span>
						
						<span class="task-menu-nav-item-infos">
							
								<span class="task-menu-nav-item-videoDuration" title="Ir para o Vídeo">21min</span>
							
						</span>
					</span>
					
					</a>
				</li>
			
				<li class="task-menu-nav-item ">
					<a href="https://cursos.alura.com.br/course/spring-mvc-1-criando-aplicacoes-web/task/11394" class="task-menu-nav-item-link task-menu-nav-item-link-VIDEO">
					<svg class="task-menu-nav-item-svg task-menu-nav-item-svg--done" aria-label="Atividade de Vídeo concluída">
						<use xlink:href="/images/gnarus/classPage/icon-menu-icons.svg#VIDEO"></use>
					</svg>
					<span class="task-menu-nav-item-number">02</span>
					<span class="task-menu-nav-item-text">
						<span class="task-menu-nav-item-title" title="Vídeo 2">
							Vídeo 2
						</span>
						
						<span class="task-menu-nav-item-infos">
							
								<span class="task-menu-nav-item-videoDuration" title="Ir para o Vídeo">26min</span>
							
						</span>
					</span>
					
					</a>
				</li>
			
				<li class="task-menu-nav-item ">
					<a href="https://cursos.alura.com.br/course/spring-mvc-1-criando-aplicacoes-web/task/11395" class="task-menu-nav-item-link task-menu-nav-item-link-VIDEO">
					<svg class="task-menu-nav-item-svg task-menu-nav-item-svg--done" aria-label="Atividade de Vídeo concluída">
						<use xlink:href="/images/gnarus/classPage/icon-menu-icons.svg#VIDEO"></use>
					</svg>
					<span class="task-menu-nav-item-number">03</span>
					<span class="task-menu-nav-item-text">
						<span class="task-menu-nav-item-title" title="Vídeo 3">
							Vídeo 3
						</span>
						
						<span class="task-menu-nav-item-infos">
							
								<span class="task-menu-nav-item-videoDuration" title="Ir para o Vídeo">13min</span>
							
						</span>
					</span>
					
					</a>
				</li>
			
				<li class="task-menu-nav-item task-menu-nav-item--selected">
					<a href="https://cursos.alura.com.br/course/spring-mvc-1-criando-aplicacoes-web/task/11396" class="task-menu-nav-item-link task-menu-nav-item-link-HQ_EXPLANATION">
					<svg class="task-menu-nav-item-svg task-menu-nav-item-svg--done" aria-label="Atividade de Explicação concluída">
						<use xlink:href="/images/gnarus/classPage/icon-menu-icons.svg#HQ_EXPLANATION"></use>
					</svg>
					<span class="task-menu-nav-item-number">04</span>
					<span class="task-menu-nav-item-text">
						<span class="task-menu-nav-item-title" title="Cadastro de produtos">
							Cadastro de produtos
						</span>
						
					</span></a>
				</li>
			
				<li class="task-menu-nav-item ">
					<a href="https://cursos.alura.com.br/course/spring-mvc-1-criando-aplicacoes-web/task/11397" class="task-menu-nav-item-link task-menu-nav-item-link-SINGLE_CHOICE">
					<svg class="task-menu-nav-item-svg " aria-label="Atividade de Atividade de Única Escolha não concluída">
						<use xlink:href="/images/gnarus/classPage/icon-menu-icons.svg#SINGLE_CHOICE"></use>
					</svg>
					<span class="task-menu-nav-item-number">05</span>
					<span class="task-menu-nav-item-text">
						<span class="task-menu-nav-item-title" title="Sobre a utilização do @AutoWired">
							Sobre a utilização do @AutoWired
						</span>
						
					</span></a>
				</li>
			
				<li class="task-menu-nav-item ">
					<a href="https://cursos.alura.com.br/course/spring-mvc-1-criando-aplicacoes-web/task/11398" class="task-menu-nav-item-link task-menu-nav-item-link-OPEN_QUESTION">
					<svg class="task-menu-nav-item-svg " aria-label="Atividade de Exercício Aberto não concluída">
						<use xlink:href="/images/gnarus/classPage/icon-menu-icons.svg#OPEN_QUESTION"></use>
					</svg>
					<span class="task-menu-nav-item-number">06</span>
					<span class="task-menu-nav-item-text">
						<span class="task-menu-nav-item-title" title="Criando o nosso controller de produtos">
							Criando o nosso controller de produtos
						</span>
						
					</span></a>
				</li>
			
				<li class="task-menu-nav-item ">
					<a href="https://cursos.alura.com.br/course/spring-mvc-1-criando-aplicacoes-web/task/11399" class="task-menu-nav-item-link task-menu-nav-item-link-OPEN_QUESTION">
					<svg class="task-menu-nav-item-svg " aria-label="Atividade de Exercício Aberto não concluída">
						<use xlink:href="/images/gnarus/classPage/icon-menu-icons.svg#OPEN_QUESTION"></use>
					</svg>
					<span class="task-menu-nav-item-number">07</span>
					<span class="task-menu-nav-item-text">
						<span class="task-menu-nav-item-title" title="Criando o formulário de cadastro">
							Criando o formulário de cadastro
						</span>
						
					</span></a>
				</li>
			
				<li class="task-menu-nav-item ">
					<a href="https://cursos.alura.com.br/course/spring-mvc-1-criando-aplicacoes-web/task/11400" class="task-menu-nav-item-link task-menu-nav-item-link-OPEN_QUESTION">
					<svg class="task-menu-nav-item-svg " aria-label="Atividade de Exercício Aberto não concluída">
						<use xlink:href="/images/gnarus/classPage/icon-menu-icons.svg#OPEN_QUESTION"></use>
					</svg>
					<span class="task-menu-nav-item-number">08</span>
					<span class="task-menu-nav-item-text">
						<span class="task-menu-nav-item-title" title="Pegando os parâmetros do formulário">
							Pegando os parâmetros do formulário
						</span>
						
					</span></a>
				</li>
			
				<li class="task-menu-nav-item ">
					<a href="https://cursos.alura.com.br/course/spring-mvc-1-criando-aplicacoes-web/task/11401" class="task-menu-nav-item-link task-menu-nav-item-link-OPEN_QUESTION">
					<svg class="task-menu-nav-item-svg " aria-label="Atividade de Exercício Aberto não concluída">
						<use xlink:href="/images/gnarus/classPage/icon-menu-icons.svg#OPEN_QUESTION"></use>
					</svg>
					<span class="task-menu-nav-item-number">09</span>
					<span class="task-menu-nav-item-text">
						<span class="task-menu-nav-item-title" title="Melhorando o nosso binding">
							Melhorando o nosso binding
						</span>
						
					</span></a>
				</li>
			
				<li class="task-menu-nav-item ">
					<a href="https://cursos.alura.com.br/course/spring-mvc-1-criando-aplicacoes-web/task/11402" class="task-menu-nav-item-link task-menu-nav-item-link-OPEN_QUESTION">
					<svg class="task-menu-nav-item-svg " aria-label="Atividade de Exercício Aberto não concluída">
						<use xlink:href="/images/gnarus/classPage/icon-menu-icons.svg#OPEN_QUESTION"></use>
					</svg>
					<span class="task-menu-nav-item-number">10</span>
					<span class="task-menu-nav-item-text">
						<span class="task-menu-nav-item-title" title="Adicionando o hibernate ao nosso projeto">
							Adicionando o hibernate ao nosso projeto
						</span>
						
					</span></a>
				</li>
			
				<li class="task-menu-nav-item ">
					<a href="https://cursos.alura.com.br/course/spring-mvc-1-criando-aplicacoes-web/task/11403" class="task-menu-nav-item-link task-menu-nav-item-link-OPEN_QUESTION">
					<svg class="task-menu-nav-item-svg " aria-label="Atividade de Exercício Aberto não concluída">
						<use xlink:href="/images/gnarus/classPage/icon-menu-icons.svg#OPEN_QUESTION"></use>
					</svg>
					<span class="task-menu-nav-item-number">11</span>
					<span class="task-menu-nav-item-text">
						<span class="task-menu-nav-item-title" title="Configurando o hibernate">
							Configurando o hibernate
						</span>
						
					</span></a>
				</li>
			
				<li class="task-menu-nav-item ">
					<a href="https://cursos.alura.com.br/course/spring-mvc-1-criando-aplicacoes-web/task/11404" class="task-menu-nav-item-link task-menu-nav-item-link-OPEN_QUESTION">
					<svg class="task-menu-nav-item-svg " aria-label="Atividade de Exercício Aberto não concluída">
						<use xlink:href="/images/gnarus/classPage/icon-menu-icons.svg#OPEN_QUESTION"></use>
					</svg>
					<span class="task-menu-nav-item-number">12</span>
					<span class="task-menu-nav-item-text">
						<span class="task-menu-nav-item-title" title="Transformando a classe Produto em entidade">
							Transformando a classe Produto em entidade
						</span>
						
					</span></a>
				</li>
			
				<li class="task-menu-nav-item ">
					<a href="https://cursos.alura.com.br/course/spring-mvc-1-criando-aplicacoes-web/task/11405" class="task-menu-nav-item-link task-menu-nav-item-link-OPEN_QUESTION">
					<svg class="task-menu-nav-item-svg " aria-label="Atividade de Exercício Aberto não concluída">
						<use xlink:href="/images/gnarus/classPage/icon-menu-icons.svg#OPEN_QUESTION"></use>
					</svg>
					<span class="task-menu-nav-item-number">13</span>
					<span class="task-menu-nav-item-text">
						<span class="task-menu-nav-item-title" title="Criando o ProdutoDAO">
							Criando o ProdutoDAO
						</span>
						
					</span></a>
				</li>
			
				<li class="task-menu-nav-item ">
					<a href="https://cursos.alura.com.br/course/spring-mvc-1-criando-aplicacoes-web/task/11406" class="task-menu-nav-item-link task-menu-nav-item-link-OPEN_QUESTION">
					<svg class="task-menu-nav-item-svg " aria-label="Atividade de Exercício Aberto não concluída">
						<use xlink:href="/images/gnarus/classPage/icon-menu-icons.svg#OPEN_QUESTION"></use>
					</svg>
					<span class="task-menu-nav-item-number">14</span>
					<span class="task-menu-nav-item-text">
						<span class="task-menu-nav-item-title" title="Usando o ProdutoDAO no Controller">
							Usando o ProdutoDAO no Controller
						</span>
						
					</span></a>
				</li>
			
				<li class="task-menu-nav-item ">
					<a href="https://cursos.alura.com.br/course/spring-mvc-1-criando-aplicacoes-web/task/11407" class="task-menu-nav-item-link task-menu-nav-item-link-OPEN_QUESTION">
					<svg class="task-menu-nav-item-svg " aria-label="Atividade de Exercício Aberto não concluída">
						<use xlink:href="/images/gnarus/classPage/icon-menu-icons.svg#OPEN_QUESTION"></use>
					</svg>
					<span class="task-menu-nav-item-number">15</span>
					<span class="task-menu-nav-item-text">
						<span class="task-menu-nav-item-title" title="Fazendo o spring encontrar os daos">
							Fazendo o spring encontrar os daos
						</span>
						
					</span></a>
				</li>
			
				<li class="task-menu-nav-item ">
					<a href="https://cursos.alura.com.br/course/spring-mvc-1-criando-aplicacoes-web/task/11409" class="task-menu-nav-item-link task-menu-nav-item-link-OPEN_QUESTION">
					<svg class="task-menu-nav-item-svg " aria-label="Atividade de Exercício Aberto não concluída">
						<use xlink:href="/images/gnarus/classPage/icon-menu-icons.svg#OPEN_QUESTION"></use>
					</svg>
					<span class="task-menu-nav-item-number">16</span>
					<span class="task-menu-nav-item-text">
						<span class="task-menu-nav-item-title" title="Adicionando a classe JPAConfiguration as configurações">
							Adicionando a classe JPAConfiguration as configurações
						</span>
						
					</span></a>
				</li>
			
				<li class="task-menu-nav-item ">
					<a href="https://cursos.alura.com.br/course/spring-mvc-1-criando-aplicacoes-web/task/11410" class="task-menu-nav-item-link task-menu-nav-item-link-OPEN_QUESTION">
					<svg class="task-menu-nav-item-svg " aria-label="Atividade de Exercício Aberto não concluída">
						<use xlink:href="/images/gnarus/classPage/icon-menu-icons.svg#OPEN_QUESTION"></use>
					</svg>
					<span class="task-menu-nav-item-number">17</span>
					<span class="task-menu-nav-item-text">
						<span class="task-menu-nav-item-title" title="Configurando transações">
							Configurando transações
						</span>
						
					</span></a>
				</li>
			
		</ul>
	</nav>
	<section class="task-menu-sections">
		<h2 class="task-menu-sections-title">
			Aulas
		</h2>
		<select class="task-menu-sections-select" onchange="location.href=&#39;/course/spring-mvc-1-criando-aplicacoes-web/section/&#39;+this.value;">
			
				<option value="1">01. Começando com SpringMVC</option>
			
				<option value="2" selected="">02. Cadastro de produtos</option>
			
				<option value="3">03. Cadastro de preços do produto</option>
			
				<option value="4">04. Listando os produtos</option>
			
				<option value="5">05. Redirect com Escopo de Flash</option>
			
				<option value="6">06. Validação e conversão de dados</option>
			
				<option value="7">07. Mais Validações </option>
			
				<option value="8">08. Formatação de datas</option>
			
				<option value="9">09. Enviando arquivos ao servidor</option>
			
				<option value="10">10. Url amigáveis</option>
			
				<option value="11">11. Expondo atributos no jsp</option>
			
				<option value="12">12. Escopo sessão</option>
			
				<option value="13">13. Carrinho de compras</option>
			
				<option value="14">14. Finalizando o carrinho</option>
			
		</select>
	</section>
	<section class="task-menu-others">
		<h2 class="task-menu-others-title ">
			Outros Links
		</h2>
		<a href="https://cursos.alura.com.br/forum/curso-spring-mvc-1-criando-aplicacoes-web/todos" class="task-menu-others-link task-menu-others-link-forum " title="Ir para o fórum do curso">Fórum</a>
		<a href="https://cursos.alura.com.br/dashboard" class="task-menu-others-link task-menu-others-link-curso" title="Ir para a página principal">Trocar Curso</a>
	</section>
	<section class="task-menu-footer">
		<a class="task-menu-footer-user" href="https://cursos.alura.com.br/user/altair-lage" title="Ir para sua página de usuário">
			<img src="./Spring MVC I_ Aula 2 - Atividade 4 Cadastro de produtos _ Alura - Cursos online de tecnologia_files/846d7bad034e3c292bc8e433e11b4683.png" alt="Gravatar de Altair Lage" class="task-menu-footer-img" width="40px" height="40px">
			
				<p class="task-menu-footer-detalhes">
					<span class="task-menu-footer-detalhes-nome">Altair Lage</span>
					<span class="task-menu-footer-detalhes-xp">
						24.8k xp
					</span>
				</p>
			
			<input type="hidden" value="">
			<input type="hidden" value="">
		</a>
		<a href="https://cursos.alura.com.br/dashboard" class="task-menu-footer-logo">
			<img src="./Spring MVC I_ Aula 2 - Atividade 4 Cadastro de produtos _ Alura - Cursos online de tecnologia_files/icon-menu-alura.svg" alt="Logo da Alura" class="task-menu-footer-logo-image" width="19px" height="32px" title="Ir para a página principal">
		</a>
	</section>
</aside>
</section>




	<script src="./Spring MVC I_ Aula 2 - Atividade 4 Cadastro de produtos _ Alura - Cursos online de tecnologia_files/jquery-2.1.3.min.js.download"></script>
	<script src="./Spring MVC I_ Aula 2 - Atividade 4 Cadastro de produtos _ Alura - Cursos online de tecnologia_files/buttonToggle.js.download" async=""></script>
	<script src="./Spring MVC I_ Aula 2 - Atividade 4 Cadastro de produtos _ Alura - Cursos online de tecnologia_files/sectionMenu.js.download" async=""></script>

	<script src="./Spring MVC I_ Aula 2 - Atividade 4 Cadastro de produtos _ Alura - Cursos online de tecnologia_files/marked.js.download"></script>
	<script src="./Spring MVC I_ Aula 2 - Atividade 4 Cadastro de produtos _ Alura - Cursos online de tecnologia_files/markdownEditor.js.download" async=""></script>
	<script src="./Spring MVC I_ Aula 2 - Atividade 4 Cadastro de produtos _ Alura - Cursos online de tecnologia_files/caret.js.download" async=""></script>
	<script src="./Spring MVC I_ Aula 2 - Atividade 4 Cadastro de produtos _ Alura - Cursos online de tecnologia_files/keydownWatchers.js.download" async=""></script>
	<script src="./Spring MVC I_ Aula 2 - Atividade 4 Cadastro de produtos _ Alura - Cursos online de tecnologia_files/prettify.js.download" async=""></script>

	<script src="./Spring MVC I_ Aula 2 - Atividade 4 Cadastro de produtos _ Alura - Cursos online de tecnologia_files/preventsDoubleClick.js.download" async=""></script>
	<script src="./Spring MVC I_ Aula 2 - Atividade 4 Cadastro de produtos _ Alura - Cursos online de tecnologia_files/assessment.js.download" async=""></script>
	<script src="./Spring MVC I_ Aula 2 - Atividade 4 Cadastro de produtos _ Alura - Cursos online de tecnologia_files/login-form.js.download" async=""></script>
	<script src="./Spring MVC I_ Aula 2 - Atividade 4 Cadastro de produtos _ Alura - Cursos online de tecnologia_files/classPage.js.download"></script>
	<script src="./Spring MVC I_ Aula 2 - Atividade 4 Cadastro de produtos _ Alura - Cursos online de tecnologia_files/aria.js.download"></script>
	<script src="./Spring MVC I_ Aula 2 - Atividade 4 Cadastro de produtos _ Alura - Cursos online de tecnologia_files/phrase.js.download"></script>
	<script src="./Spring MVC I_ Aula 2 - Atividade 4 Cadastro de produtos _ Alura - Cursos online de tecnologia_files/feedback.js.download"></script>
	
	

	
	
	
	

	<script src="./Spring MVC I_ Aula 2 - Atividade 4 Cadastro de produtos _ Alura - Cursos online de tecnologia_files/partitura.js.download"></script>
	<script src="./Spring MVC I_ Aula 2 - Atividade 4 Cadastro de produtos _ Alura - Cursos online de tecnologia_files/audioProgress.js.download"></script>

	
	
	
		

<script type="text/javascript" src="./Spring MVC I_ Aula 2 - Atividade 4 Cadastro de produtos _ Alura - Cursos online de tecnologia_files/amplitude.js.download"></script>

<script>

	amplitudeInit("84647047775d06b4051d80eccd387bd3");
	
	
		var userProperties = {"name":"Altair Lage","email":"altair.lage@datablink.com"};
		amplitudeIdentify("75042", userProperties);
	
	
	

	
	
	$('[data-amplitude]').on('click', function(){
		var data = $(this).data().amplitude;
		track(data);
	});
	
</script>

		
		
			<script>
				track({"name":"task-seen","course-code":"spring-mvc-1-criando-aplicacoes-web","task-id":"11396","task-kind":"Explicação"});
			</script>
		
	
	
 

<script type="text/javascript">window.NREUM||(NREUM={});NREUM.info={"errorBeacon":"bam.nr-data.net","licenseKey":"b5f9030682","agent":"","beacon":"bam.nr-data.net","applicationTime":47,"applicationID":"12544460","transactionName":"ZVFTNhEEXEdTWkdeV1wbchcQEV1ZHVtBGVtdWR8BAgBeQV8XVFlZQEFCTAsEQFhXQEJCUVxaHwEMC0ZGXVVfUkocZ1QBFwxdWnFWXUNKXVhdBxFKQVxdTmdWS1k=","queueTime":0}</script>

</body><object id="c9cb7bba-1b5b-b1a1-5a08-d8922984bdbd" width="0" height="0" type="application/gas-events-uni"></object></html>